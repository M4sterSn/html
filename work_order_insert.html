 <!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <!-- DNS prefetch -->
  <link rel=dns-prefetch href="//fonts.googleapis.com">

  <!-- Use the .htaccess and remove these lines to avoid edge case issues.
       More info: h5bp.com/b/378 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Dev MDTI - Medica TI</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <meta name="robots" content="noindex,nofollow" />

  <!-- Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <base href="https://app24.medicati.com/mdti/lab/sanrafael/" />

  <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->

  <!-- CSS: implied media=all -->
  <!-- CSS concatenated and minified via ant build script-->
  <link rel="stylesheet" href="../css/style.css"> <!-- Generic style (Boilerplate) -->
  <link rel="stylesheet" href="../css/960.fluid.css"> <!-- 960.gs Grid System -->
  <link rel="stylesheet" href="../css/main.css"> <!-- Complete Layout and main styles -->
  <link rel="stylesheet" href="../css/buttons.css"> <!-- Buttons, optional -->
  <link rel="stylesheet" href="../css/lists.css"> <!-- Lists, optional -->
  <link rel="stylesheet" href="../css/icons.css"> <!-- Icons, optional -->
  <link rel="stylesheet" href="../css/notifications.css"> <!-- Notifications, optional -->
  <link rel="stylesheet" href="../css/typography.css"> <!-- Typography -->
  <link rel="stylesheet" href="../css/forms.css"> <!--Forms, optional THIS NEEDS TO BE REMOVED IN ORDER TO MULTISELECT TO WORK -->
  <link rel="stylesheet" href="../css/tables.css"> <!-- Tables, optional -->
   <!-- Charts, optional -->
  <link rel="stylesheet" href="../css/jquery-ui-1.8.15.custom.css"> <!-- jQuery UI, optional -->
  <link rel="stylesheet" href="../css/application_custom.css"> <!-- Application Specific -->
  <link rel="stylesheet" href="../css/font-awesome.min.css"> <!-- font-awesome, optional -->

  <!-- end CSS-->
  <!-- Custom CSS, Javascripts and other head code-->
  <link rel="stylesheet" href="../css/jquery.ui.timepicker.css"> <!-- Forms, optional --><link rel="stylesheet" href="../css/zebra_datepicker.css"> <!-- Forms, optional -->  <!-- Fonts -->
  <link href="//fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet" type="text/css">
  <!-- end Fonts-->
<style type="text/css">
  @media print {
    .hidden-print {
      display: none !important;
    }
    a[href]:after { content: ""; }
    #container > #main {
		margin-left: 0px;
	}
  }


</style>
  <!-- More ideas for your <head> here: h5bp.com/d/head-Tips -->

  <!-- All JavaScript at the bottom, except for Modernizr / Respond.
       Modernizr enables HTML5 elements & feature detects; Respond is a polyfill for min/max-width CSS3 Media Queries
       For optimal performance, use a custom Modernizr build: www.modernizr.com/download/ -->
  <script src="../js/libs/modernizr-2.0.6.min.js"></script>

  <!-- Top Javascripts-->
  <style>
.no-close .ui-dialog-titlebar-close {
  display: none;
}
</style>

</head>

<body id="top">
<div id="loading" style="text-align:center;display:none;"><img src="../img/mt_icons/30.gif"></div>
<div id="badgetalert" style="text-align:center;display:none;">Nueva Orden Externa</div>
  <!-- Begin of #container -->
  <div id="container">
  	<!-- Begin of #header -->
    <div id="header-surround" class="hidden-print"><header id="header">

    	<!-- Place your logo here -->
		<img src="../img/mt_icons/app/medicati.png" alt="Grape" class="logo">

		<!-- Divider between info-button and the toolbar-icons -->
		<div class="divider-header divider-vertical"></div>

		<!-- Info-Button -->
		<a href="javascript:void(0);" onclick="$('#info-dialog').dialog({ modal: true });"><span class="btn-info"></span></a>

			<!-- Modal Box Content -->
			<div id="info-dialog" title="Acerca De" style="display: none;">
				<p style="text-align: center;">MedicaTI V30.2.103</p>
				<p style="text-align: center;">MedicaTI Ver Date 2025-07-01</p>
				<p style="text-align: center;">MedicaTI DB V1.4.2</p>
				<p style="text-align: center;">Fecha 2025/04/1</p>
								<p style="text-align: center;">Versión Avanzada</p>
										<p style="text-align: center;">Órdenes de Trabajo: 166 de 4000</p>
															<p style="text-align: center;">Imágenes: 7 de 400</p>
									
                <BR>
                                    <p style="text-align: center;"><button type="button" id="boton_dbug" value="Dbug" style="background: red; border-radius: 6px; cursor: pointer; color: white; border: green;" >DBUG</button></p>
                
                				<p>El equipo de ODInet le agradece su preferencia, gracias por utilizar el software MedicaTI.</p>
				<p>Este software esta protegido por los respectivos derechos de autor.</p>
			</div> <!--! end of #info-dialog -->



		<!-- Begin from Toolbox -->
		<ul class="toolbox-header">
			<!-- First entry -->
			<li>
				<a href="#" class="toggle-sidebar bs-tooltip" data-placement="bottom" data-original-title="Activar Navegación" style="position: absolute; padding: 8px; color: white; text-decoration: none;">
					<i class="icon-2x icon-reorder"></i>
				</a>
			</li> <!--! end of third entry -->
		</ul>

		<!-- Begin from Toolbox -->
		<ul class="toolbox-header" style="display: none;">
			<!-- First entry -->
			<li>
				<a rel="tooltip" title="Create a User" class="toolbox-action" href="javascript:void(0);"><span class="i-24-user-business"></span></a>
				<div class="toolbox-content">

					<!-- Box -->
					<div class="block-border">
						<div class="block-header small">
							<h1>Create a User</h1>
						</div>
						<form id="create-user-form" class="block-content form" action="" method="post">
							<div class="_100">
								<p><label for="username">Username</label><input id="username" name="username" class="required" type="text" value="" /></p>
							</div>
							<div class="_50">
								<p class="no-top-margin"><label for="firstname">Firstname</label><input id="firstname" name="firstname" class="required" type="text" value="" /></p>
							</div>
							<div class="_50">
								<p class="no-top-margin"><label for="lastname">Lastname</label><input id="lastname" name="lastname" class="required" type="text" value="" /></p>
							</div>
							<div class="clear"></div>

							<!-- Buttons with actionbar  -->
							<div class="block-actions">
								<ul class="actions-left">
									<li><a class="close-toolbox button red" id="reset" href="javascript:void(0);">Cancel</a></li>
								</ul>
								<ul class="actions-right">
									<li><input type="submit" class="button" value="Create the User"></li>
								</ul>
							</div> <!--! end of #block-actions -->
						</form>
					</div> <!--! end of box -->

				</div>
			</li> <!--! end of first entry -->

			<!-- Second entry -->
			<li>
				<a rel="tooltip" title="Write a Message" class="toolbox-action" href="javascript:void(0);"><span class="i-24-inbox-document"></span></a>
				<div class="toolbox-content">

					<!-- Box -->
					<div class="block-border">
						<div class="block-header small">
							<h1>Write a Message</h1>
						</div>
						<form id="write-message-form" class="block-content form" action="" method="post">
							<p class="inline-mini-label">
								<label for="recipient">Recipient</label>
								<input type="text" name="recipient" class="required">
							</p>
							<p class="inline-mini-label">
								<label for="subject">Subject</label>
								<input type="text" name="subject">
							</p>
							<div class="_100">
								<p class="no-top-margin"><label for="message">Message</label><textarea id="message" name="message" class="required" rows="5" cols="40"></textarea></p>
							</div>

							<div class="clear"></div>

							<!-- Buttons with actionbar  -->
							<div class="block-actions">
								<ul class="actions-left">
									<li><a class="close-toolbox button red" id="reset2" href="javascript:void(0);">Cancel</a></li>
								</ul>
								<ul class="actions-right">
									<li><input type="submit" class="button" value="Send Message"></li>
								</ul>
							</div> <!--! end of #block-actions -->
						</form>
					</div> <!--! end of box -->

				</div>
			</li> <!--! end of second entry -->

			<!-- Third entry -->
			<li>
				<a rel="tooltip" title="Create a Folder" class="toolbox-action" href="javascript:void(0);"><span class="i-24-folder-horizontal-open"></span></a>
				<div class="toolbox-content">

					<!-- Box -->
					<div class="block-border">
						<div class="block-header small">
							<h1>Create a Folder</h1>
						</div>
						<form id="create-folder-form" class="block-content form" action="" method="post">
							<p class="inline-mini-label">
								<label for="folder-name">Name</label>
								<input type="text" name="folder-name" class="required">
							</p>

							<!-- Buttons with actionbar  -->
							<div class="block-actions">
								<ul class="actions-left">
									<li><a class="close-toolbox button red" id="reset3" href="javascript:void(0);">Cancel</a></li>
								</ul>
								<ul class="actions-right">
									<li><input type="submit" class="button" value="Create Folder"></li>
								</ul>
							</div> <!--! end of #block-actions -->
						</form>
					</div> <!--! end of box -->

				</div>
			</li> <!--! end of third entry -->
		</ul>

		<!-- Begin of #user-info -->
		<div id="user-info">
			<p>
				<span class="messages">Hola <a href="javascript:void(0);">Usuario Administrador</a> de Matriz <span style="display: none"> ( <a href="javascript:void(0);"><img src="../img/mt_icons/app/mail.png" alt="Messages"> 3 nuevos mensajes</a> ) </span></span>
				<span style="display: none"> <a href="javascript:void(0)" class="toolbox-action button">Ajustes</a></span> <a href="auth/logout" class="button red">Salir</a>
			</p>
		</div> <!--! end of #user-info -->

    </header></div> <!--! end of #header -->

    <div class="fix-shadow-bottom-height"></div>

	<!-- Begin of Sidebar -->
    <aside id="sidebar" class="hidden-print" style="overflow: hidden;">

    	<!-- Search -->
    	<div id="search-bar">
			<form id="search-form" name="search-form" action="search.php" method="post">
				<input style="display: none" type="text" id="query" name="query" value="" autocomplete="off" placeholder="Búsqueda">
			</form>
		</div> <!--! end of #search-bar -->

		<!-- Begin of #login-details -->
		<section id="login-details">
    		<img class="img-left framed" src="../img/mt_icons/app/logo_mdti.png" alt="Medica TI">
    		<h3>Usuario Registrado:</h3>
    		<h2><a class="user-button" href="javascript:void(0);">admin&nbsp;<span class="arrow-link-down"></span></a></h2>
    		<ul class="dropdown-username-menu">
    			<li><a href="auth/logout">Salir</a></li>
    		</ul>

    		<div class="clearfix"></div>
  		</section> <!--! end of #login-details -->
      
		<!-- Begin of Navigation -->
		<nav id="nav">
			<ul class="menu collapsible shadow-bottom">
				
			<li class="expand">
			   <a href="javascript:void(0);" class="current"><img src="https://app24.medicati.com/mdti/lab/sanrafael/../img/mt_icons/reception_desk/sofa.png">Recepción<span class="badge red"></span></a>
				<ul class="sub">

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reception/work_order/insert"  >Orden de Trabajo</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reception/work_order/listing"  >Listado de Ordenes</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reception/estimate/listing"  >Listado de Cotizaciones</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reception/cash_fund/listing"  >Salidas de Caja</a></li>

				</ul>

			</li>
			
			<li >
			   <a href="javascript:void(0);" ><img src="https://app24.medicati.com/mdti/lab/sanrafael/../img/mt_icons/lab/lab-16.png">Laboratorio<span class="badge red"></span></a>
				<ul class="sub">

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/lab/work_order_listing"  >Ordenes de Laboratorio</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/lab/process_areas"  >Procesos por Área</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/lab/work_sheet"  >Hojas de Trabajo</a></li>

				</ul>

			</li>
			
			<li >
			   <a href="javascript:void(0);" ><img src="https://app24.medicati.com/mdti/lab/sanrafael/../img/mt_icons/medical/steto-16.png">Médicos</a>
				<ul class="sub">

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/medical/insert"  >Nuevo Médico</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/medical/listing"  >Listado de Médicos</a></li>

				</ul>

			</li>
			
			<li >
			   <a href="javascript:void(0);" ><img src="https://app24.medicati.com/mdti/lab/sanrafael/../img/mt_icons/emr/user.png">Registro de Pacientes</a>
				<ul class="sub">

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/emr/listing"  >Listado de Pacientes</a></li>

				</ul>

			</li>
			
			<li >
			   <a href="javascript:void(0);" ><img src="https://app24.medicati.com/mdti/lab/sanrafael/../img/mt_icons/company/company-16.png">Empresas y Clientes</a>
				<ul class="sub">

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/company/insert"  >Nueva Empresa o Cliente</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/company/listing"  >Listado de Empresas</a></li>

				</ul>

			</li>
			
			<li >
			   <a href="javascript:void(0);" ><img src="https://app24.medicati.com/mdti/lab/sanrafael/../img/mt_icons/suppliers/suppliers-icon-16.png">Compras a Proveedores</a>
				<ul class="sub">

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/suppliers/insert"  >Nuevo Proveedor</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/suppliers/listing"  >Listado de Proveedores</a></li>

				</ul>

			</li>
			
			<li >
			   <a href="javascript:void(0);" ><img src="https://app24.medicati.com/mdti/lab/sanrafael/../img/mt_icons/products/box-16.png">Conceptos</a>
				<ul class="sub">

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/products/insert"  >Nuevo Concepto</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/products/listing"  >Listado de Conceptos</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/stock/insert"  >Nuevo Insumo</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/stock/listing"  >Listado de Insumos</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/products/price_list"  >Listado de Tarifarios</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/products/price_changes"  >Cambios de Precios</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/products/barcode_groups"  >Grupos de Etiquetas</a></li>

				</ul>

			</li>
			
			<li >
			   <a href="javascript:void(0);" ><img src="https://app24.medicati.com/mdti/lab/sanrafael/../img/mt_icons/admin/application-task.png">Administración</a>
				<ul class="sub">

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/users/admin/listing"  >Usuarios</a></li>

				</ul>

			</li>
			
			<li >
			   <a href="javascript:void(0);" ><img src="https://app24.medicati.com/mdti/lab/sanrafael/../img/mt_icons/app/table.png">Reportes</a>
				<ul class="sub">

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reports/work_orders"  >Reportes de Órdenes</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reports/products"  >Reportes de Conceptos</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reports/company"  >Pacientes por Empresa</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reports/stock"  >Consumo de Insumos</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reports/stock_levels"  >Movimientos de Insumos</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reports/doctors"  >Pacientes por Doctor</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reports/sales"  >Reportes de Ventas y Cierres</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reports/cash_fund_out"  >Reportes de Salidas de Caja</a></li>

						<li><a href="https://app24.medicati.com/mdti/lab/sanrafael/reports/estimate"  >Reportes de Cotizaciones</a></li>

				</ul>

			</li>
			
			</ul>
		</nav>
		<!--! end of #nav -->		
		      <br/>
          	<img src="../account_data/sanrafael/system/logo_sanrafael_260x98.png">

    </aside> <!--! end of #sidebar -->

    <!-- Begin of #main -->
    <div id="main" role="main">

    	<!-- Begin of titlebar/breadcrumbs -->
		<div id="title-bar" class="hidden-print">

							<div class="_100" id="turn-alerts" style="margin-bottom:-5px;margin-top:10px;"></div>
						<ul id="breadcrumbs" style="display: none">
				<li><a href="dashboard.html" title="Home"><span id="bc-home"></span></a></li>
				<li><a href="#" title="menu item">menu item</a></li>
				<li><a href="#" title="menu item">menu item</a></li>
				<li class="no-hover">menu item</li>
			</ul>
		</div> 
		<!--! end of #title-bar -->
		
				<div class="shadow-bottom shadow-titlebar"></div>

		<!-- Begin of #main-content -->
		<div id="main-content">
			<div class="container_12">

			<!-- Put your content here! -->
                        <!-- General Title -->
                        
			<div class="grid_12">
				<h1>Orden de Trabajo</h1>
				<p>Registro de órdenes de trabajo</p>
			</div>
			
                        <!-- Shortcuts -->
                        
    	<!-- Begin of Shortcuts -->
			
			<div class="grid_12 hidden-print">
				<div class="block-border">
					<div class="block-content">
						<ul class="shortcut-list">
							
					<li>

						<a href="reception/work_order/insert">
							 <img src="../img/mt_icons/reception_desk/workorder-48.png">
							 Orden de Trabajo
						</a>
					</li>

					<li>

						<a href="reception/work_order/listing">
							 <img src="../img/mt_icons/reception_desk/work_order_listing-48.png">
							 Listado de Órdenes
						</a>
					</li>

					<li>

						<a href="reception/estimate/listing">
							 <img src="../img/mt_icons/app/cotizacion-48.png">
							 Listado de Cotizaciones
						</a>
					</li>

					<li>

						<a href="reception/cash_fund/listing">
							 <img src="../img/mt_icons/reception_desk/cash_fund-48.png">
							 Salidas de Caja
						</a>
					</li>

					<li>

						<a href="reception/cash_fund/items">
							 <img src="../img/mt_icons/reception_desk/cash_fund_concepts-48.png">
							 Conceptos de Salidas
						</a>
					</li>

					<li>

						<a href="reception/cash_fund/resp">
							 <img src="../img/mt_icons/reception_desk/cash_fund_resp-48.png">
							 Responsables de Salidas
						</a>
					</li>

					<li>

						<a href="reception/cash_fund/base">
							 <img src="../img/mt_icons/reception_desk/base_cash-48.png">
							 Caja Base
						</a>
					</li>

						</ul>
						<div class="clear"></div>
					</div>
				</div>

			</div>
			
	<!--! end of Shortcuts -->		
		                        <br><br>
                        <!-- General Screen Alert Msg -->
							<div id="alert_messages" class="grid_12">
															</div>
                        <!-- General Content display-->
                        <div class='grid_12'></div>
<script src="../js/libs/jquery-1.6.2.min.js"></script>
<script src="../js/mylibs/jquery-ui-1.8.15.custom.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
 </head>
 <body>
 </body>
</html>
<style type="text/css" media="all">

		
		.info {
			background-color: transparent;
			border:none !important;
			box-shadow: none !important;
		}
			.upd_readonly{
			background-color: #CACACA !important;
		}
		.css3button{

			font-family: Arial, Helvetica, sans-serif;
			font-size: 13px;
			color: #404040;
			padding: 10px 5px;
			width: 75px; heigth: 15px; margin: 5px 5px;
			background: -moz-linear-gradient( top, #9fb4c9 0%, #9fb4c9);
			background: -webkit-gradient( linear, left top, left bottom, from(#9fb4c9), to(#9fb4c9));
			border-radius: 3px;
			-moz-border-radius: 3px;
			-webkit-border-radius: 3px;
			border: 0px solid #7d0000;
			-moz-box-shadow: 0px 1px 3px rgba(000,000,000,1), inset 0px 0px 0px rgba(255,255,255,0);
			-webkit-box-shadow: 0px 1px 3px rgba(000,000,000,1), inset 0px 0px 0px rgba(255,255,255,0);
			text-shadow: 0px 0px 0px rgba(000,000,000,0), 0px 0px 0px rgba(255,255,255,0);
		}

		.error_class{ border: 1px solid red !important; }
		.error_full_class{ border: 1px solid #FF7373 !important; background-color: #FF7373 !important; }

		#main_cart{
			margin: 20px auto;
			position: relative;
			/*display: table;*/
			/*border: 1px solid green;*/
			min-width: 600px !important;
			max-width: 600px !important;
		}

		#main_payments{
			margin: 20px auto;
			position: static;
			/*display: table;*/
			/*border: 1px solid green;*/
			min-width: 600px;
			max-width: 600px;

			border: 1px solid #ccc;
			background-color: #FFEACD;
			/*height: 35px;*/
			padding: 4px 0px !important;
			-moz-border-radius: 3px;
			-moz-box-shadow: 0 1px 2px #d1d1d1;
			-webkit-border-radius: 3px;
			-webkit-box-shadow: 0 1px 2px #d1d1d1;
			/*border: #ccc 1px solid;*/

		}

		#main_payments > div{ display: table-cell; margin: 0px 0px !important; }
		#main_payments > div div{ width: 175px !important; padding: 1px 0px; }
		#main_payments label{ width: 84px !important; display: inline-block; margin: 1px 1px; text-align: right; vertical-align: middle; }
		#main_payments input{ width: 60px; text-align: center; }
		#main_cart input[type='text']:not([name='description[]']){ text-align: center; }

		#main_transactions {
			margin: 5px auto;
			position: static;
			/*display: table;*/
			/*border: 1px solid green;*/
			min-width: 600px;
			max-width: 600px;

			border: 1px solid #ccc;
			background-color: #BADA55;
			/*height: 35px;*/
			padding: 4px 0px !important;
			-moz-border-radius: 3px;
			-moz-box-shadow: 0 1px 2px #d1d1d1;
			-webkit-border-radius: 3px;
			-webkit-box-shadow: 0 1px 2px #d1d1d1;
			/*border: #ccc 1px solid;*/
		}

		#main_transactions > div{ display: table-cell; margin: 0px 0px !important; }
		#main_transactions > div div{ width: 175px !important; padding: 1px 0px; }
		#main_transactions label{ width: 84px !important; display: inline-block; margin: 1px 1px; text-align: right; vertical-align: middle; }
		#main_transactions input{ width: 60px; text-align: center; }

		.wcart_head{
			
			border-right: 1px solid #ccc;
			border-left: 1px solid #ccc;
			border-bottom: 1px solid #ccc;
			background-color: #FFEACD;
			/*height: 35px;*/
			padding: 4px 0px !important;
			/*display: table-row-group;*/
			-moz-border-radius: 3px;
			-moz-box-shadow: 0 1px 2px #d1d1d1;
			-webkit-border-radius: 3px;
			-webkit-box-shadow: 0 1px 2px #d1d1d1;
			/*border: #ccc 1px solid;*/
		}

		.wcart_head > div{ display:  table-cell; width: 10%; padding: 10px 0px 10px 0px; }
		.wcart_body{ margin: 10px 0px; }

		.wcart_titles, .wcart_footer{
			background: #ededed;
			background: -webkit-gradient(linear, left top, left bottom, from(#ededed), to(#ebebeb));
			background: -moz-linear-gradient(top, #ededed, #ebebeb);

			-moz-border-radius: 3px;
			-moz-box-shadow: 0 1px 2px #d1d1d1;
			-webkit-border-radius: 3px;
			-webkit-box-shadow: 0 1px 2px #d1d1d1;

			border: #ccc 1px solid;
			border-radius: 3px;
			box-shadow: 0 1px 2px #d1d1d1;
			margin: 10px 0px;

		}

		.wcart_titles > div{
			/*padding: 10px 0px 10px 0px; vertical-align: bottom; text-shadow: 1px 1px 0px #fff; border: 1px solid red;*/

			display: table-cell;

			box-sizing: border-box;
			-webkit-box-sizing:border-box;
			-moz-box-sizing:border-box;
			
			width: 10% !important;

			/* position: static !important; */
			/*display:*/
			padding: 10px 0px 10px 0px;
			/* border: 1px solid blue; */
			text-align: center;

		}
		.wcart_titles > div > label { text-align: center; }
		.wcart_footer > div { display: table-cell; margin: 0px 0px !important; width: 180px; }
		.wcart_footer{ padding: 5px 0px; }
		.wcart_footer > div:last-child{ border-radius: 4px; border: 1px solid #ccc; }
		.footer_section_1{ background-color: #D3D3D4;  padding: 1px 1px; }
		.footer_section_1 > p { width: 84px !important; display: inline-block; margin: 1px 1px; text-align: right; vertical-align: middle; }
		.footer_section_1 > input[type='text'] { width: 60px; }
		.footer_section_2{ background-color: #FFCCCC;  padding: 1px 1px; }
		.footer_section_2 > p { width: 84px !important; display: inline-block; margin: 1px 1px; text-align: right; vertical-align: middle; }
		.footer_section_2 > input[type='text'] { width: 60px; }
		.footer_section_3{ background-color: #9FB4C9;   padding: 1px 1px; }
		.footer_section_3 > p { width: 84px !important; display: inline-block; margin: 1px 1px; text-align: right; vertical-align: middle; }
		.footer_section_3 > input[type='text'] { width: 60px; }
		.footer_section_4{ background-color: #D3D3D4;   padding: 1px 1px; }
		.footer_section_4 > p { width: 84px !important; display: inline-block; margin: 1px 1px; text-align: right; vertical-align: middle; }
		.footer_section_4 > input[type='text'] { width: 60px; }

		.changeBorders_a{ border-radius: 4px 0px 0px 0px; }
		.changeBorders_b{ border-radius: 0px 0px 0px 4px; }
		input.input_readonly{ background-color: transparent !important; cursor: inherit !important; }

		.wcart_head > div {

			display: table-cell;
			width: 10%;
			padding: 0px 1px;
			/*border: 1px solid blue;*/
			text-align: center;
		}

		.wcart_row > div {
			display: table-cell;
			width: 10%;
			padding: 0px 1px;
			
			/*border: 1px solid blue;*/
			text-align: center;
		}

		.wcart_row{ 
			position: relative; 
			margin: 3px 0px; 
			-moz-border-radius: 3px;
			-webkit-border-radius: 3px;
			border-left: 1px solid #ccc ;
			border-right: 1px solid #ccc ;
			border-bottom: 1px solid #ccc ;
			padding: 2px 0px !important;
			border-top: 1px solid #ccc ;}
			

		.bordersWcartRow{
			-moz-border-radius: 3px;
			-webkit-border-radius: 3px;

			border-left: 1px solid #ccc ;
			border-right: 1px solid #ccc ;
			border-top: 1px solid #ccc ;
			margin: 3px 0px 0px 0px !important;
			padding: 2px 0px !important;

			border-bottom-left-radius: 0px;
			border-bottom-right-radius: 0px;
		}

		div[class*="wcart_detail"]{

			padding: 4px 6px;
			margin: 0px 0px 2px 0px;
			-moz-border-radius: 3px;
			/*-moz-box-shadow: 0 0px 2px #d1d1d1;*/
			-webkit-border-radius: 3px;
			/*-webkit-box-shadow: 0 0px 2px #d1d1d1;*/

			border-left: 1px solid #ccc ;
			border-right: 1px solid #ccc ;
			border-bottom: 1px solid #ccc ;
			/*border-radius: 3px;*/
			border-top-left-radius: 0px;
			border-top-right-radius: 0px;
			/*box-shadow: 0 1px 2px #d1d1d1;*/

		}

		div[class*="wcart_detail"] > div{ margin: 5px 0px !important; }

</style>
<div id="dialog_emr"></div>

	<div id="info_dialog" class="container_12">
		<form class="form" id="info-form" name="info-form">
			<div class="grid_9">
				<input id="id_prod_desc" name="id_prod_desc" type="hidden" value="" readonly>
				<label for="product_description">Nombre del producto</label><input id="product_description" name="product_description" type="text">
			</div>
			<div class="grid_1">&nbsp;</div>
			<div class="grid_2 hidden info_details">
				<label for="unit_price">Precio Unitario</label><input class="info" id="unit_price" name="unit_price" type="text" readonly>
			</div>
			<div class="clear"></div><br>
			<div class="hidden info_details">
				<div class="grid_8">
					<label for="product_comment">Comentario del Producto</label>
					<textarea class="info" id="product_comment" name="product_comment" readonly></textarea>
					<!-- <input id="product_comment" name="product_comment" type="text"> -->
				</div>
				<div class="grid_1">&nbsp;</div>
				<div class="grid_3">
					<label for="delivery_time_info">Tiempo de Entrega</label><input class="info" id="delivery_time_info" name="delivery_time_info" type="text" readonly>
				</div>
				<div class="clear"></div><br>
				<div class="grid_6">
					<label for="note_patient_info">Notas al Paciente</label><input class="info" id="note_patient_info" name="note_patient_info" type="text" readonly>
				</div>
				<div class="grid_1">&nbsp;</div>
				<div class="grid_5">
					<label for="note_medical_info">Notas Médicas</label><input class="info" id="note_medical_info" name="note_medical_info" type="text" readonly>
				</div>
				<div class="grid_5">
					<label for="sample_name_info">Tipo de Muestra</label><input class="info" id="sample_name_info" name="sample_name_info" type="text" readonly>
				</div>
				<div class="clear"></div>
			</div>
		</form>
	</div>
	
	<style>
		.dialogFixed{
			position:fixed !important;
			top:0 !important;
		}
	</style>
	<div id="patientInfo_dialog" class="container_12">
		<style>
			.table_pac_info > thead th,  .table_pac_info > tbody td {
				text-align:center !important;
			}
		</style>
		<center><h3>Órdenes desde 90 días antes al día de hoy.</h3></center>
		<table class="table_pac_info table" id="patientInfo_dialog_div" ></table>
	</div>
	<div class="grid_12">
	<div class="block-border">

		<div class="block-header">
			<h1>Alta de Orden de Trabajo</h1><span></span>
		</div>
		<form action="https://app24.medicati.com/mdti/lab/sanrafael/reception/work_order/insert" method="post" accept-charset="utf-8" class="block-content form" id="validate-form">
			<input type="hidden" name="action" value="new" >
			<input type="hidden" name="id_pac_medrec" id="id_pac_medrec" value="" >
			<input type="hidden" name="id_api_pac_medrec" id="id_api_pac_medrec" value="" >
			<input type="hidden" name="id_api_ope_work_order" id="id_api_ope_work_order" value="" >
			<input type="hidden" name="id_med_doctors" id="id_med_doctors" value="" >
			<input type="hidden" name="id_cli_clients" id="id_cli_clients" value="" >
			<input type="hidden" name="id_con_invoices" id="id_con_invoices" value="" >
			<input type="hidden" name="id_con_remisions" id="id_con_remisions" value="" >
			<input type="hidden" name="id_ope_work_order" id="id_ope_work_order" value="" >
			<input type="hidden" name="id_ope_estimate" id="id_ope_estimate" value="" >

			<input type="hidden" id="hd_flag_doctor" value="" >

			<!-- Form Alert do not remove -->
						<div class="_25">
				<h3>Datos del Paciente</h3>
				<label id="new_pac" class="hidden">Nuevo Paciente</label>
			</div>
			<div class="_50">
								&nbsp;
			</div>			
									<div class="_25">
				<p class="inline-small-label">
					<label for="folio" style="margin-left: -40px;">Folio.</label>
					<input type="text" id="folio" name="folio" class="" style="text-align:center;background-color: #ccc; " readonly="true" value="">
				</p>
			</div>

			<div class="_100">
							<p><hr /></p>
			</div>

			<div class="_25">
				<p>
					<label for="patient_name">N&zwnj;ombre(s)</label>
					<input id="patient_name" name="patient_name" autocomplete="off" class="required "  type="text" value="" />
				</p>
			</div>

			<div class="_25">
				<p>
					<label for="patient_lastname">A&zwnj;pellidos</label>
					<input id="patient_lastname" name="patient_lastname" autocomplete="off" class="required "  type="text" value="" />
				</p>
			</div>

			<div class="_25">
				<p>
					<label for="gender">Género</label>
					<input id="gender" name="gender"  class="required" style="width: inherit;" type="radio" value="1" /> Femenino <br />
					<input id="gender" name="gender"  class="required "  style="width: inherit;" type="radio" value="2" /> Masculino				</p>
			</div>
			
			
			<div class="_25">
				<p>
											<label for="date_work_order">Fecha Orden</label>
						<input id="date_work_order" name="date_work_order"  class="" autocomplete="off" style=" text-align:center;width: 40% !important;"  type="text" value="20/07/2025" />
										</p>
			</div>
			<div class="clear"></div>
	
			<div class="_25">
				<p>
				<label for="date_of_birth">Fecha de Nacimiento	  (<small>dd/mm/aaaa</small>)</label>
				<input id="date_of_birth"  name="date_of_birth" autocomplete="off" class="required " type="text" value="" />
				</p>
			</div>


			<div class="_25">
				<p>
					<label for="home_phone">T&zwnj;eléfono</label>
					<input id="home_phone"  name="home_phone" class="" type="text" autocomplete="off" value="" />
				</p>
			</div>
			<div class="_25">
				<p>
					<label for="doctor_name">Médico</label>
					<input id="doctor_name" name="doctor_name" class="" type="text" autocomplete="off" value="" />
				</p>
			</div>
							<div class="_25">
					<p>
						<label for="client_name">E&zwnj;mpresa</label>
						<input id="client_name" name="client_name" class="" autocomplete="off" type="text" value="" />
					</p>
				</div>
									<div class=""></div>
			<div class="clear"></div>

			
			
			<!--  <div class="_100" style="height: 0px;">
				<p>&nbsp;
				</p>
			</div> -->
			

			<!-- <div class="_25"> -->
				<!-- <p> -->
					<!-- <label for="no_exterior">Estatus</label> -->
					<!-- <input id="status" name="no_exterior" class="required" type="text"  value="" /> -->
				<!-- </p> -->
		 	<!-- </div> -->
			 
			<div class="_25">
				<p>
					<label for="id_status">Estatus Orden</label>
					<!-- <select style="padding : inherit;" name="id_status"> -->
						<select name="id_status">
<option value="1">Abierto</option>
<option value="2">En Proceso</option>
<option value="3">Completado</option>
<option value="4">Entregado</option>
<option value="5">Orden Externa</option>
<option value="6">Muestra Recibida</option>
<option value="9">En Ruta</option>
</select>					<!-- </select> -->
				</p>
			</div>
						<div class="clear"></div>	
			
			<!--
			<div class="_25">
				<p>
									</p>
				<span style="display:none;">			</div>
			-->
			
						<div class="_25">
				<p>
									</p>
				<span style="display:none;">				<p>
					<label for="id_cat_origins">Procedencia</label>
					<select style="padding : inherit;"  name="id_cat_origins">
						<option value="0"  >-</option>
						<option value="1"  >asd</option>
						<option value="2"  >asd</option>
					</select>
				</p>
				</span>			</div>
			
			<div class="_25">
				<p>
									</p>
			</div>
			<div class="_25">
				<p>
									</p>
			</div>

			<!-- CamposExtraMicrobiología220630 -->
			
			<div class="_100" style="height: 0px;">
				<p>&nbsp;
				</p>
			</div>
			<div class="_75">

				<fieldset style="width: auto" class="">
					<legend>Aviso de Resultados</legend>
					<!-- Header -->
					<div class="_100">
						<div class="_50">
							&nbsp;
						</div>
													<div class="_25_short" style="text-align: center;">
								<label> <span>Aviso</span></label>&nbsp;
							</div>
							<div class="_25_short" style="text-align: center;">
								<label> <span>Envio</span></label>&nbsp;
							</div>
											</div>
					<!-- Header Ends -->
					<!-- Cell Phone -->
										<div class="_100">
						<div  class="_50">
							<label>Celular</label>
							<input type="tel" id="cell_phone_tw" name="cell_phone_tw" onkeyup="processTel();" onblur="processTel();" value="" class="" autocomplete="off" style="width: 90% !important;"/>
							<input type="hidden" id="cell_phone" name="cell_phone" value="" class="" autocomplete="off" style="width: 90%;"/>
						</div>
						<script>
							const phoneInputField = document.querySelector("#cell_phone_tw");
							const phoneInput = window.intlTelInput(phoneInputField, {
								initialCountry: "mx",
								preferredCountries: ["mx","us"],
								separateDialCode: true,
								utilsScript:
								"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
							});
							function processTel(){
								$("#cell_phone").val(phoneInput.getNumber());
								if(!phoneInput.isValidNumber()){
									phoneInputField.style.border = "1px yellow solid";
								}else{
									phoneInputField.style.border = "1px green solid";
								}
							}
						</script>
						<div class="_25" style="text-align: center;">
							<br>
							<br>
<!-- 							<input type="hidden" id="cell_phone_send_messages" name="cell_phone_send_messages" value="1"  style="width: inherit;"/> -->
							<input type="hidden" id="cell_phone_send_messages" name="cell_phone_send_messages" value="1" style="width: inherit;"/>
						</div>
						<div class="_25" style="text-align: center;">
							<br>
							<br>
<!-- 							<input type="hidden" id="cell_phone_send_report" name="cell_phone_send_report" value="1"  style="width: inherit;"/> -->
							<input type="hidden" id="cell_phone_send_report" name="cell_phone_send_report" value="1"  style="width: inherit;"/>
						</div>
					</div>
					
					<!-- Cell Phone Ends -->
					<div class="_100">
						&nbsp;
					</div>
					<!-- Email -->
					<div class="_100">
						<div  class="_50">
							<label>E-mail</label>
							<textarea id="email" name="email" autocomplete="off" class="" style="width: 90%;"></textarea>
						</div>
						<div class="_25" style="text-align: center;">
							<br>
							<br>
															<input type="checkbox" id="email_send_messages" name="email_send_messages"  value="1" style="width: inherit;"/>
													</div>
						<div class="_25" style="text-align: center;">
							<br>
							<br>
															<input type="checkbox" id="email_send_report" name="email_send_report"  value="1" style="width: inherit;"/>
													</div>
					</div>
					<!-- Email Ends -->
				</fieldset>
			</div>
						<!--
			<div class="_75">

				<fieldset style="width: auto" class="">
					<legend>Aviso de Resultados</legend>
					<div  class="_50">
						<p>
						<label>Celular</label>
						<input type="text" id="cell_phone" name="cell_phone" value="" class="" style="width: 90%;"/>
						</p>
						<p>
						<label>E-mail</label>
						<input type="text" id="email" name="email" class="" value="" style="width: 90%;"/>
						</p>
					</div>
					<div class="_25" >
						<p>
																								<label> <span>Aviso</span> <span style="margin-left: 45%;">Envio</span></label>
																						<br>
							&nbsp;&nbsp;
							<span style="visibility:hidden;">							<input type="checkbox" id="cell_phone_send_messages" name="cell_phone_send_messages" value="1"  style="width: inherit;"/>
								</span>								<span style="visibility:hidden;">							<input type="checkbox" id="cell_phone_send_report" name="cell_phone_send_report" value="1"  style="width: inherit; margin-left: 53%;"/>
								</span>						</p>

						<p>
							<br>
							<br>
								&nbsp;&nbsp;
																								<input type="checkbox" id="email_send_messages" name="email_send_messages"  value="1" style="width: inherit;"/>
																									<input type="checkbox" id="email_send_report" name="email_send_report" value="1"  style="width: inherit; margin-left: 53%;"/>
																					</p>

					</div>
				</fieldset>

			</div>
			-->
			<div class="_100">
				<p>
				</p>
			</div>

			<div class="_50">
				<p>
					<label for="terapeutic_info">Información Clínica</label>
					<textarea name="terapeutic_info"></textarea>
				</p>
			</div>

			<div class="_50">
				<p>
					<label for="comments">Comentarios Adicionales</label>
					<textarea name="comments"></textarea>
				</p>
			</div>

			

			<div class="_25">
				<span style="visibility:hidden;">				<p>
					<label>Requiere Factura</label>
					<input type="checkbox" id="chk_invoice_required"  name="chk_invoice_required"/>
				</p>
				</span>			</div>

			<div class="_25">
				<p>
					<span style="visibility:hidden;">					<label>Requiere Remisión</label>
					<input type="checkbox" id="chk_remision_required"  name="chk_remision_required"/>
					</span>				</p>
			</div>

							<div class="_25">
					<p>
						<label>Tarifario</label>
						<select name="select_fare" id="select_fare" style="width: inherit; padding: inherit;">
							<option value="0">-</option>
															<option value="5" >ANA SEGUROS</option>
															<option value="6" >ABA SEGUROS</option>
															<option value="7" >ACE SEGUROS</option>
															<option value="8" >AIG MEXICO COMPAÑIA</option>
															<option value="9" >AIG MEXICO SEGUROS</option>
															<option value="10" >ALLIANZ MEXICO</option>
															<option value="11" >ASISS ADMINISTRADORES</option>
															<option value="12" >AUTOBUSES ROJOS</option>
															<option value="13" >AXA ASSISTANCE MEXICO</option>
															<option value="14" >AXA SEGUROS</option>
															<option value="15" >BANCO MERCANTIL DEL NORTE</option>
															<option value="16" >BANCO NACIONAL DE MEXICO</option>
															<option value="17" >BANCO SANTANDER</option>
															<option value="18" >BBVA BANCOMER OPERADORA</option>
															<option value="19" >BBVA BANCOMER SEGUROS SALUD</option>
															<option value="20" >BBVA BANCOMER SA INSTITUCION</option>
															<option value="21" >BIMBO</option>
															<option value="22" >CASA LEY</option>
															<option value="23" >CENTRO DE ATENCION MULTIPLE LABORAL</option>
															<option value="24" >CLADIMACO</option>
															<option value="25" >COBAEN</option>
															<option value="26" >FIRA</option>
															<option value="27" >GENERAL DE SALUD</option>
															<option value="28" >GENERAL DE SEGUROS</option>
															<option value="29" >GNP</option>
															<option value="30" >HDI SEGUROS</option>
															<option value="31" >HSBC MEXICO</option>
															<option value="32" >INFLEXION EN SALUD</option>
															<option value="33" >MAPFRE</option>
															<option value="34" >MEDI ACCESS</option>
															<option value="35" >MEDICAVIAL</option>
															<option value="36" >METLIFE MEXICO</option>
															<option value="37" >MULTIASISTENCIA</option>
															<option value="38" >NACIONAL MONTE DE PIEDAD</option>
															<option value="39" >PLAN SEGURO</option>
															<option value="40" >QUALITAS</option>
															<option value="41" >PEMEX</option>
															<option value="43" >SUBROGADO DR MARTIN HERANDEZ SANCHEZ</option>
													</select>
					</p>
				</div>
			
			
			
		<div class="_50">
			&nbsp;
		</div>
		<div class="_25" style="text-align: right; height: 100%;">
			<p>
				<a href="#" class="button" id="concept-info">
					<i class="icon-info"></i>Conceptos
				</a>
			</p>
		</div>
				
		<div class="_25" style="text-align: left; height: 100%;">
			<p>
				<a href="#" class="button" id="patient-info">
					<i class="icon-info"></i>Historial del Paciente
				</a>
			</p>
		</div>
				<div style="display: none;" class="_100" id="div_invoice_required">

				<div class="_50">
					<p>
						<label>Razón Social</label>
						<input type="text" id="invoice_name" class="" name="invoice_name" value="" />
					</p>
				</div>

				<div class="_25">
					<p>
						<label>Fecha</label>
						<input type="text" id="invoice_date" style="width: 70%;"  name="invoice_date" class=""  value="" />
					</p>
				</div>

				<div class="_25">
					<p>
						<label>Hora</label>
						<input id="invoice_hour"   style="width: 70%;" name="invoice_hour" class="" type="text" value="" />
					</p>
				</div>

			   <div class="_25">
					<p>
						<label>RFC</label>
						<input type="text" id="invoice_rfc" class=""  name="invoice_rfc" value="" />
					</p>
				</div>

				<div class="_25">

					<p>
						<label for="invoice_phone">Teléfono</label>
						<input id="invoice_phone" name="invoice_phone" class="" type="text" value="" />
					</p>

				</div>

				<div class="_25">
					<p>
						<label for="invoice_email">Correo Electrónico</label>
						<input id="invoice_email" name="invoice_email" class="" type="text" value="" />
					</p>

				</div>

				<div class="_25">
					<p>
						<span style="visibility:hidden;">						<label>Envio de Factura</label>
						<input id="invoice_send_to_email" name="invoice_send_to_email" class="" type="checkbox" value="1"   />
						</span>					</p>
				</div>

				<div class="_50">
					<p>
						<label>Calle</label>
						<input type="text" id="invoice_address" name="invoice_address" value="" class=""  />
					</p>
				</div>

				<div class="_25">
					<p>
						<label>No. Ext</label>
						<input type="text" id="invoice_no_exterior" name="invoice_no_exterior" value="" class=""  />
					 </p>
				</div>

				<div class="_25">
					<p>
						<label for="invoice_no_interior">No. Int</label>
						<input id="invoice_no_interior" name="invoice_no_interior" class="" type="text" value="" />
					</p>
				</div>

				<div class="_50">
					<p>
						<label>Colonia</label>
						<input type="text" id="invoice_col" name="invoice_col" value="" class=""  />
					</p>
				</div>

				 <div class="_25">
					<p>
						<label for="invoice_zipcode">C.P.</label>
						<input id="invoice_zipcode" name="invoice_zipcode" class="required" type="text" value="" />
					</p>
				</div>

				<div class="_25">
					<p>
						<label> Últimos 4 Dígitos TDC </label>
						<input id="invoice_payment_account_no" name="invoice_payment_account_no" class="" type="text" value="" />
					</p>
				</div>

				<div class="_25">
					<p>
						<label>Ciudad</label>
						<input type="text" id="invoice_city" name="invoice_city" value=""  class="" />
					</p>
				</div>

				<div class="_25">
					<p>
						<label>Estado</label>
						<input type="text" id="invoice_state" name="invoice_state" value="" class=""  />
					</p>
				</div>

				<div class="_25">
					<p>
						<label>País</label>
						<input type="text" id="invoice_country" name="invoice_country" value="" class="required"  />
					</p>
				</div>

				<div class="_25">

					<p>

						<label>Método de Pago</label>
						<select name="invoice_paid_method" id="invoice_paid_method" >
						   <option value="efectivo"> Efectivo </option><option value="transf_electronica"> Transferencia Electronica </option><option value="cheque_nominativo"> Cheque Nominativo </option><option value="tarjeta_debito"> Tarjeta de Debito </option><option value="tarjeta_credito"> Tarjeta de Credito </option><option value="tarjeta_servicio"> Tarjeta de Servicio </option><option value="monedero_electronico"> Monedero Electronico </option>						</select>
					</p>

				</div>
			</div>

			<div class="_100">
				<p><hr />
				<br />
				<br />
				</p>
			</div>

			<div class="_100">

				<div id="main_cart">
					<!--<div style="border: 1px dotted GrayText;">-->
					<div class="wcart_titles">
						<div >
							<label>Cantidad</label>
						</div>
						<div style="display:;">
							<label>Unidad</label>
						</div>
						<div>
							<label>Código</label>
						</div>
						<div style="width: 23% !important;">
						<!-- Este div por defecto tiene 40% pero como esta activado el campo de unidad se reduce ha 30%  con CODIGO 23% -->
							<label>Descripción</label>
						</div>
						<div>
							<label>Precio Unitario</label>
						</div>
						<div style="display:;">
							<label>IVA</label>
						</div>
						<div style="display:none;">
							<label>Descuento
								<small>
									<strong id="desc_sign_above"></strong>
								</small>
							</label>
						</div>
						<div>
							<label>Subtotal</label>
						</div>
						<div>
							<label>Acción</label>
						</div>
					</div>

					<div class="wcart_head">

						<div style="display: none;">
							<input type="hidden" name="hd_id_product[]" validate="" id="hd_id_product" value="">
							<input type="hidden" name="hd_id_type[]" validate="" id="hd_id_type" value="">
							<input type="hidden" name="hd_id_discount_type[]" validate="" id="hd_id_discount_type" value="">
							<input type="hidden" name="hd_unit_cost[]" validate="" id="hd_unit_cost" value="">
						</div>

						<div>
							<input type="text" style="width: 80%;"  name="qty[]"  id="cart_qty" validate="require|number_greater_than_zero" value="" >
						</div>
						<div style="display:;">
							<input type="text" style="width: 80%;"  name="unit[]"  id="cart_unit" validate="" value="" >
						</div>
						<div>
							<input type="text" style="width: 80%;"  name="code[]"  id="cart_code" validate="" value="" readonly="readonly">
						</div>
						<div style="width: 23% !important; "><!-- Este div por defecto tiene 40% pero como esta activado el campo de unidad se reduce ha 30% . Con el campo de CODIGO 23%-->
							<input type="text" name="description[]" style="width: 91% !important;"   id="cart_description"  validate="require" value="" >
							<!-- Este input por defecto tiene 95% pero como esta activado el campo de unidad se reduce ha 94%. 91% con CODIGO -->
						</div>
						<div>
							<input type="text" name="unit_price[]"  style="width: 80%;" readonly="readonly"   validate="require|number" id="cart_price" value="" >
						</div>
						<div style="display:;">
							<input type="checkbox" name="apply_iva[]" style="width: 18px;" value="-1"  id="cart_iva" >
						</div>
						<div style="display:none;">
							<input type="text" name="descount[]" style="width: 80%;" validate="no_empty|number" id="cart_descount"  value="" >
						</div>
						<div>
							<input type="text"  name="sub_total[]" style="width: 80%;"  validate="require|number" readonly="readonly" value="0.00" >
						</div>
						<div>
							<a class="anchor_add" href="#"><img  src="../img/icons/misc/bullet-add-icon.png" width=18 heigth=18 /></a>
							<span style="display: none;"><a class="anchor_clear" href="#"><img  src="../img/icons/misc/edit-clear.png"  width=18 heigth=18/></a></span>
						</div>


													<!-- <br> -->
							<div style="display:block; width:100%; margin-top:4px; text-align: center;">
								<!-- <span><a href="#" class="anchor_detail">Detalle</a></span> -->
								<div style="height:100%;">
									<table width="98%" border="1" style="text-align:center;margin: 0 auto;" bordercolor="#ccc">
										<tr>
											<th style="background:#F0FFFF; color:#666;">Requerimientos</th>
											<th style="background:#F0FFFF; color:#666;">Nota Médica</th>
											<th style="background:#F0FFFF; color:#666; width:20%;">Tiempo de Entrega</th>
										</tr>
										<tr>
											<td><input type="text" name="note_patient[]" style="background:transparent; border:none; box-shadow:none; padding:0;line-height:80%;" id="note_patient"  value="" readonly="readonly"></td>
											<td><input type="text" name="note_medical[]" style="background:transparent; border:none; box-shadow:none; padding:0;line-height:80%;" id="note_medical"  value="" readonly="readonly"></td>
											<td><input type="text" name="delivery_time[]" style="background:transparent; border:none; box-shadow:none; padding:0;line-height:80%;" id="delivery_time"  value="" readonly="readonly"></td>
										</tr>
									</table>
								</div>
							</div>
<!-- 
						<br>
						<div>
								<div class="_50">
									<input type="text" name="note_patient[]" style="background:transparent; border:none; box-shadow:none; padding:0;line-height:80%;" id="note_patient"  value="" readonly="readonly">
								</div>
								<div class="_25">
									<input type="text" name="note_medical[]" style="background:transparent; border:none; box-shadow:none; padding:0;line-height:80%;" id="note_medical"  value="" readonly="readonly">
								</div>
								<div class="_25">
									<input type="text" name="delivery_time[]" style="background:transparent; border:none; box-shadow:none; padding:0;line-height:80%;" id="delivery_time"  value="" readonly="readonly">
								</div>
						</div> -->
						<!-- <div style="">
							<div class="grid_12">
								<input type="text" name="note_patient[]" style="background:transparent; border:none; box-shadow:none; padding:0;line-height:80%;" id="note_patient"  value="" readonly="readonly">
							</div>
							<div class="grid_6">
								<input type="text" name="note_medical[]" style="background:transparent; border:none; box-shadow:none; padding:0;line-height:80%;" id="note_medical"  value="" readonly="readonly">
							</div>
							<div class="grid_6">
								<input type="text" name="delivery_time[]" style="background:transparent; border:none; box-shadow:none; padding:0;line-height:80%;" id="delivery_time"  value="" readonly="readonly">
							</div>
						</div> -->
											</div>
					<div style="display:none" id="ajx_wraper_cart">
					</div>

					

					<!-- <div class="extended_item" > -->
						<!-- No Insertar codigo aqui -->
					<!-- </div> -->
					<!-- <div class="wcart_titles"> -->
						<!-- <div> -->
							<!-- <label>Cantidad</label> -->
						<!-- </div> -->
						<!-- <div style="width: 40% !important;"> -->
							<!-- <label>Descripcion</label> -->
						<!-- </div> -->
						<!-- <div> -->
							<!-- <label>Precio Unitario</label> -->
						<!-- </div> -->
						<!-- <div> -->
							<!-- <label>IVA</label> -->
						<!-- </div> -->
						<!-- <div> -->
							<!-- <label>Descuento <small><strong id="desc_sign_bottom"></strong></small></label> -->
						<!-- </div> -->
						<!-- <div> -->
							<!-- <label>Subtotal</label> -->
						<!-- </div> -->
						<!-- <div> -->
							<!-- <label>Accion</label> -->
						<!-- </div> -->
					<!-- </div> -->
					<!-- <div class="wcart_detail" >
					</div> -->
					<div class="wcart_body" >
						<!-- No Insertar codigo aqui -->
						
											</div>

					<style>
						#tbl_totals td {
							padding-top: 0px;
							padding-bottom: 0px;
						}
						#tbl_totals td > div{
							width: 180px;
						 }
						div.div_row2{
							width: 100% !important;
						}
						div.div_row2_txt{
							vertical-align: bottom !important;
						}
						tr:first-child > td:last-child > div{
						   -webkit-border-radius: 2px 2px 0px 0px;
							-moz-border-radius: 2px 2px 0px 0px;
							border-radius: 2px 2px 0px 0px;
						}
						tr:last-child > td:last-child > div{

							 -webkit-border-radius: 0px 0px 2px 2px;
							-moz-border-radius: 0px 0px 2px 2px;
							border-radius: 0px 0px 2px 2px;
						}
					</style>

					<div class="wcart_footer">
						<!-- Cargos -->
						<table style="width: 100%;" border=0 id="tbl_totals">
							<tr>
								<td style="width:50%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td>
									<div class="div_row3 footer_section_2">
										<p>Cargo por Emergencia:</p>
										$<input type="text" id="wcart_charge_emergency" name="wcart_charge_emergency" value=""/>
									</div>
								</td>
							</tr>
							<tr>
								<td style="width:32%;">
									<!-- <div style="border: 0px solid #BADA55; width: 100%;"></div> -->
								</td>
								<td style="width:33%;">
									<!-- <div style="border: 0px solid #BADA55; width: 100%;"></div> -->
								</td>
								<td>
									<!-- <div class="div_row3 footer_section_2"> -->
										<!-- <p>Comision TDC:</p> -->
										<!-- $<input type="text" id="wcart_credit_card_charge" name="wcart_credit_car_charge" value=""/> -->
									<!-- </div> -->
								</td>
							</tr>
							<tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td>
									<div class="div_row3 footer_section_1">
										<p>Subtotal A/IVA:</p>
										$<input type="text" id="wcart_subtotal_wiva" name="wcart_subtotal_wiva" />
									</div>
								</td>
							</tr>
							<tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td>
									<div class="div_row3 footer_section_1">
										<p>Subtotal NA/IVA:</p>
										$<input type="text" id="wcart_subtotal_niva" name="wcart_subtotal_niva" />
									</div>
								</td>
							</tr>
							<tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">
									<div class="div_row2_txt">Descuentos:</div>
								</td>
								<td>
									<div class="div_row3 footer_section_1" style="border-top: 1px dotted grey;">
										<p>Subtotal:</p>
										$<input type="text" id="wcart_subtotal" name="wcart_subtotal" />
									</div>

								</td>
							</tr>
							<!-- D I S C O U N T S T R T -->
							<tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">

									<div style="" class="div_row2 footer_section_3 changeBorders_a">
										<p> Descuento A/IVA:</p>
										$<input type="text" id="wcart_subtotal_desc_wiva" name="wcart_subtotal_desc_wiva" />
									</div>

								</td>
								<td>
									<div class="div_row3 footer_section_3">
										<p>Descuento Monto:</p>

																				$<input
											type="text"
											id="wcart_descount_money"
											name="wcart_descount_money"
											value="											"																					>
										<div style="float:right;"><button type="button" class="button" id="verifyDiscount" style="display:none;height:20px;padding:0px;padding-left:5px;padding-right:5px;border-radius:3px;">Autorizar Descuento</button></div>
									</div>

								</td>
							</tr>
							<tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">

									<div style="" class="div_row2 footer_section_3 changeBorders_b">
										<p> Descuento NA/IVA:</p>
										$<input type="text" id="wcart_subtotal_desc_niva" name="wcart_subtotal_desc_niva" />
									</div>
								</td>
								<td>
									<div class="div_row3 footer_section_3">
										<p>Descuento Porcentaje:</p>
										%<input style="width: 57px;" type="text" id="wcart_descount_percent" name="wcart_descount_percent" value="">
									</div>

								</td>
							</tr>
							<tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td>
									<div style="border-top: 1px dotted grey;" class="div_row3 footer_section_3">
										<p>Subtotal Desc/Aplic:</p>
										$<input  type="text" id="wcart_subtotal_desc" name="wcart_subtotal_desc" />
									</div>

								</td>
							</tr>
							<!-- D I S C O U N T E N D S -->
							<tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td>
									<div style="display: none;" class="div_row3 footer_section_4">
										<p>Gran Total A/IVA:</p>
										$<input type="text" id="wcart_great_total_wiva" name="wcart_great_total_wiva"/>
									</div>

								</td>
							</tr>
							<tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td>
									<div style="display: none;" class="div_row3 footer_section_4">
										<p>Gran Total NA/IVA:</p>
										$<input type="text" id="wcart_great_total_niva" name="wcart_great_total_niva" />
									</div>

								</td>
							</tr>
							<tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td>
									<div style="" class="div_row3 footer_section_4">
										<p>Gran Total:</p>
										$<input type="text" id="wcart_great_total" name="wcart_great_total"/>
									</div>

								</td>
							</tr>

							 <tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td>

									<div style="" class="div_row3 footer_section_4">
										<p>IVA:</p>
										$<input id="wcart_iva" type="text" name="wcart_iva"/>
									</div>

								</td>
							</tr>
							<tr>
								<td style="width:32%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td style="width:33%;">
									<div style="border: 0px solid #BADA55; width: 100%;"></div>
								</td>
								<td>
									<div style="border-top: 1px dotted grey;" class="div_row3 footer_section_4">
										<p>Total:</p>
										$<input id="wcart_total" type="text" name="wcart_total"/>
									</div>
								</td>
							</tr>

													</table>

					</div><!-- .wcart_footer -->

				</div><!--main_cart-->
			</div>

			
						<style>
	.ui-dialog-titlebar-close {
		display: none;
	}
</style>

	<div id="credit_pay_dialog">
	</div>
						<div class="_100">			<script type="text/javascript" src="https://cdn.conekta.io/js/latest/conekta.js"></script>
				<div id="main_payments">

					<table id="tbl_payments" style="width: 100%;">
												<tr>
							<td >
								<div style="border: 0px solid #BADA55; width: 100%;"></div>
							</td>
							<td >
								<div style="border: 0px solid #BADA55; width: 100%;"></div>
							</td>
							<td style="width:40%;">
								<div style="text-align:right; margin-right:10px;">
									<label> Total a Pagar: </label>
									$&nbsp;<input type="text" name="total_pay" id="total_pay" class="total_pay input_readonly" />
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<!-- <div style="border: 0px solid #BADA55; width: 100%;"></div> -->
								<div style="display:none; text-align:right;"class="div_balance_change">
									<label>Efectivo Recibido: </label>
									$&nbsp;<input type="text" id="money_received" name="money_received" value=""/>
								</div>
							</td>
							<td>
								<!-- <div style="border: 0px solid #BADA55; width: 100%;"></div> -->
								<div style="display:none;text-align:right;" class="div_balance_change">
									<label>Cambio:</label>
									$&nbsp;<input type="text" id="money_change" name="money_change" value=""/>
								</div>
							</td>
							<td>
								<div style="text-align:right; margin-right:10px;">
									<label> Pago Efectivo: </label>
									$&nbsp;<input type="text" name="money_pay" id="money_pay" class="money_pay input_required do_groups" value=""/>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<div style="border: 0px solid #BADA55; width: 100%;"></div>
							</td>
							<td>
								<div style="border: 0px solid #BADA55; width: 100%;"></div>
							</td>
							<td>
															<div style="text-align:right; margin-right:10px;">
									<label> Pago Empresa: </label>
									$&nbsp;<input type="text" name="business_pay" id="business_pay" class="business_pay input_required do_groups" value="" />
								</div>
														</td>
						</tr>
						<tr>
							<td>
								<div style="border: 0px solid #BADA55; width: 100%;"></div>
							</td>
							<td>
								<!-- <div style="border: 0px solid #BADA55; width: 100%;"></div> -->
								<div style="display: none; text-align:right;" class="div_digits_tdc">
									<label>4 Ultimos Digitos: </label>
									$&nbsp;<input type="text" id="digits_tdc_pay" name="digits_tdc_pay" value=""/>
								</div>
							</td>
														<td>
								<div style="text-align:right; margin-right:10px;">
									<label> Tarjeta de Débito: </label>
									$&nbsp;<input type="text" name="hospital_pay" id="hospital_pay" class="hospital_pay input_required do_groups" value="" />
								</div>

							</td>
													</tr>
												<tr>
							<td>
								<div style="border: 0px solid #BADA55; width: 100%;"></div>
							</td>
							<td>
								<div style="border: 0px solid #BADA55; width: 100%;"></div>
							</td>
							<td>
														</td>
						</tr>
						<tr>
							<td>
								<!-- <div style="border: 0px solid #BADA55; width: 100%;"></div> -->
															</td>
							<td>
								<!-- <div style="border: 0px solid #BADA55; width: 100%;"></div> -->
															</td>
							<td>
								<div style="text-align:right; margin-right:10px;">
									<label for="tdc_pay"> Pago TDC: </label>
									$&nbsp;<input type="text" name="tdc_pay" id="tdc_pay" class="tdc_pay input_required do_groups" value="" >
									<div id="conekta_errors" class="error"></div>
									<input type="hidden" name="conektaTokenId" id="conektaTokenId">
									<input type="hidden" name="id_con_ccard_transactions" id="id_con_ccard_transactions">
									<input type="hidden" name="id_con_ccard_failed_transactions" id="id_con_ccard_failed_transactions">
								</div>
							</td>
						</tr>
												<tr>
							<td>
								<div style="border: 0px solid #BADA55; width: 100%;"></div>
							</td>
							<td>
								<div style="border: 0px solid #BADA55; width: 100%;"></div>
							</td>
							<td>
								<div style="text-align:right; margin-right:10px;  ">
									<label for="balance"> Saldo: </label>
									$&nbsp;<input type="text" name="balance" id="balance" class="balance" readonly="readonly" />
								</div>
							</td>
						</tr>
					</table>
				</div><!--main_payments-->
			</div>				<script type="text/javascript">
		var jValidate;
	</script>
						<div class="clear"></div>

			<!-- Buttons with actionbar  -->
			<div class="block-actions">
					<ul class="actions-left">
							<li><a class="button red" id="reset-validate-form" href="reception/work_order/listing">Cancelar</a></li>
					</ul>

					<ul class="actions-right">
						<!--<li><input type="button" id="submit_btn" class="button" value="btn"></li>-->
																					<li>
									<a href="https://app24.medicati.com/mdti/lab/sanrafael/reception/estimate/ajx_estimate_insert" class="button" id="estimate13" view="reception/estimate_print_letter_v">Generar Estimación</a>								</li>
																			<!-- 	 -->
						<li><input type="button" class="button" style="height:25px;" id="submit_button" value="Guardar"/></li>
					</ul>
			</div> <!--! end of #block-actions -->
		</form>
	</div>
</div>

<script type="x-tmpl" id="tmpl_fillout">
	<div style="height: 32px;" class="div_row2">&nbsp;</div>
</script>
<script>


 
	$("#submit_button").bind("click",function(){
		$("#loading").css("display","");
		$("#loading").dialog("open");
		$(this).attr("disabled",true);
		$(this).addClass("grey");
		var btn_label = $(this).val();
		$(this).val("Guardando...");
		var validForm = jValidate.form();
		console.log("Form is " + validForm);
		if(validForm){
				
					$('#validate-form').submit();
							}else{
				$("#loading").dialog("close");
				window.scrollTo(0,300);
				$("#submit_button").val(btn_label);
				setTimeout(function(){
					$("#submit_button").removeAttr("disabled");
					$("#submit_button").removeClass("grey");
				},6000);
				return false;
			}
	});
</script>
    <script type="text/javascript" charset="utf-8">
        const home_phone = document.querySelector("#home_phone");
        const cell_phone_tw = document.querySelector("#cell_phone_tw");
        const cell_phone = document.querySelector("#cell_phone");

        // Función para procesar el valor de home_phone y actualizar los otros inputs
        function syncPhones() {
            cell_phone_tw.value = home_phone.value; // Copiar a cell_phone_tw
            phoneInput.setNumber(home_phone.value); // Ajustar el valor en intlTelInput
            processTel(); // Ejecutar validación y formato
        }

        // Event listeners para home_phone
        home_phone.addEventListener("input", syncPhones);
        home_phone.addEventListener("click", syncPhones);
    </script>

                        <!-- General Bottom Screen Alert Msg -->
                        
                        




			<div class="clear height-fix"></div>

		</div>
		</div> <!--! end of #main-content -->
  </div> <!--! end of #main -->


    <footer id="footer">
        <div class="container_12">
		<div class="grid_12">
    		<div class="footer-icon align-center"><a class="top" scrollit="1" href="#top"></a></div>
		</div>
    </div></footer>
  </div> <!--! end of #container -->


  <!-- JavaScript at the bottom for fast page loading -->

  <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
  <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>-->
  <script>window.jQuery || document.write('<script src="../js/libs/jquery-1.6.2.min.js"><\/script>')</script>


  <!-- scripts concatenated and minified via ant build script-->
  <script defer src="../js/plugins.js"></script> <!-- lightweight wrapper for consolelog, optional -->
  <script defer src="../js/mylibs/jquery-ui-1.8.15.custom.min.js"></script> <!-- jQuery UI -->
  <script defer src="../js/mylibs/jquery.notifications.js"></script> <!-- Notifications  -->
  <!--<script defer src="../js/mylibs/jquery.uniform.min.js"></script> Uniform (Look & Feel from forms) removed for cart-->
  <script defer src="../js/mylibs/jquery.validate.js"></script> <!-- Validation from forms -->
  <script defer src="../js/mylibs/jquery.tipsy.js"></script> <!-- Tooltips -->
  <script defer src="../js/mylibs/excanvas.js"></script> <!-- Charts -->
  <script defer src="../js/mylibs/jquery.visualize.js"></script> <!-- Charts -->
  <script defer src="../js/mylibs/jquery.slidernav.min.js"></script> <!-- Contact List -->
  <script defer src="../js/common.js"></script> <!-- Generic functions -->
  <script defer src="../js/script.js"></script> <!-- Generic scripts -->
  	<script type="text/javascript" src="../js/libs/breakpoints.js"></script>
	<script type="text/javascript" src="../js/jquery.slimscroll.js"></script>
	<script type="text/javascript" src="../js/app.js"></script>

  <!-- Bottom Javascripts-->
  
		
		<script>
			console.log("55");
			$("#imc").css("display","");
			$("#m2scdiv").css("display","none");
			$("#signos_m2sc").attr("disabled","true");
		</script>
		

	<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
	<script src="../js/mylibs/zebra_datepicker.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/mylibs/jquery.chained.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/mylibs/jquery.modCart.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/jquery.modPayments.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/mylibs/jquery.validity.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/mylibs/jquery.ui.timepicker.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/mylibs/date.format.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/mylibs/triggerPatientValid.js" type="text/javascript" charset="utf-8"></script>


  <script type="text/javascript" charset="utf-8">
	$(function() {
		var age_enabled = !!0 || null;

		triggerPatientValid.init({

			callbackDialogAgreed: 2,
			fieldsToFillJSON : ["id_pac_medrec","gender","email","email_send_messages","email_send_report","cell_phone","cell_phone_send_messages","cell_phone_send_report","home_phone"],
			strUrlBase: "reception/work_order",

		});

		function isValidDate(controlName, format){
			var isValid = true;

			try{
				$.datepicker.parseDate( format, $( controlName ).val(), null );
			}catch(error){
				isValid = false;
			}

			return isValid;
		}// function

		$.validator.addMethod("slcPaidMethod",function(value, element, params){

			//console.info("Value: %o <> Element: %o <> Params: %o",value,element,params);
			//console.info("%o", $.inArray(value,params[1]));

			var inputed = $("#"+params[0]).val();

			//console.info("%o",inputed.length);

			if ( parseInt( $.inArray(value,params[1]) ) >= 0 && inputed.length == 0){

				$("#"+params[0]).addClass("required");

				return false

			}else if( parseInt( $.inArray(value,params[1]) ) >= 0 && inputed.length > 0 ){
				$("#"+params[0]).removeClass("required");
				return true;
			}else{
				$("#"+params[0]).removeClass("required");
				return true;
			}

		}, "Se require los ultimos cuatro digitos de la tarjeta o de la cuenta");

		/**
		* Return true, if the value is a valid date, also making this formal check dd/mm/yyyy.
		*
		* @example jQuery.validator.methods.date("01/01/1900")
		* @result true
		*
		* @example jQuery.validator.methods.date("01/13/1990")
		* @result false
		*
		* @example jQuery.validator.methods.date("01.01.1900")
		* @result false
		*
		* @example <input name="pippo" class="{dateITA:true}" />
		* @desc Declares an optional input element whose value must be a valid date.
		*
		* @name jQuery.validator.methods.dateITA
		* @type Boolean
		* @cat Plugins/Validate/Methods
		*/
	   $.validator.addMethod("dateITA", function(value, element) {
			   var check = false;
			   var re = /^\d{1,2}\/\d{1,2}\/\d{4}$/;
			   if( re.test(value)){
					   var adata = value.split("/");
					   var gg = parseInt(adata[0],10);
					   var mm = parseInt(adata[1],10);
					   var aaaa = parseInt(adata[2],10);
					   var xdata = new Date(aaaa,mm-1,gg);
					   if ( ( xdata.getFullYear() == aaaa ) && ( xdata.getMonth () == mm - 1 ) && ( xdata.getDate() == gg ) )
							   check = true;
					   else
							   check = false;
			   } else
					   check = false;
			   return this.optional(element) || check;
	   }, "Please enter a correct date");

		$.validator.addMethod("rfc_rule", function(value, element) {
			return this.optional(element) || /^[a-z0-9]+$/i.test(value);
		}, "Favor de utilizar valores Alfanumericos 'A-Z 0-9'");

		$.validator.addMethod("mtsValid",function(value, element, params){

			console.info("MST: %o", parseFloat(value));

			// Changed on Oct/20th
			if ( parseFloat(value) > 0 && parseFloat(value) > 3){
				return false;
			}

			return true;

		}, "Favor de ingresar estatura en metros.");

		jValidate = $("#validate-form").validate({
			focusCleanup: true,
			rules: {
				// email: {
				// 	required: false,
				// 	email: true
				// },
				height: {
					required: false,
					mtsValid: true
				}
			},
			messages: {
				// email: {
				// 	email: "Dirección de correo electrónico inválida."
				// }
			}
		});

		var zDatepicker = $("#date_of_birth").Zebra_DatePicker({
			view: "years",
			format: "d/m/Y",
			days: ["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],
			months: ["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],
			direction: false,

			onSelect: function(format, formatted, date){
				if( triggerPatientValid ){
					console.warn(triggerPatientValid);
					triggerPatientValid.runFullName(formatted);
				}//

				var today = new Date();
				var dateOfBirth = new Date(date);
				var age = today.getFullYear() - dateOfBirth.getFullYear();
				if(today.getMonth() < dateOfBirth.getMonth()) {
					age--;
				}
				if(today.getMonth() == dateOfBirth.getMonth()) {
					if(today.getDate() < dateOfBirth.getDate()) {
						age--;
					}
				}
				$("input#age").val(age);
				if(age <= 14){
						$("#imc").css("display","none");
						$("#m2scdiv").css("display","");
						$("#signos_m2sc").removeAttr("disabled");
					}else{
							$("#m2scdiv").css("display","none");
							$("#imc").css("display","");
							$("#signos_m2sc").attr("disabled","true");

					}
				
			}//

		});

		//$("#main_cart").modCart({iva_included: true});

		// $("#main_payments").modPayments({"enableLoyalty":false,"loyaltyPointValueRate":0.01,"dbug":false,"enableOnChange":true,"enableCardComission":false});
		//payments.sampleMethod();

			
		// if(55 > 14){
		// 	$("#m2scdiv").css("display","none");
		// 	$("#imc").css("display","");
		// }else if(55 <= 14){
		// 	$("#imc").css("display","none");
		// 	$("#m2scdiv").css("display","");
		// }

		$("#doctor_name").bind("focus",function(e){

			// console.info("%o",$(e.target).siblings("label").text( $(e.target).siblings("label").text() + "<h6>GOT IT!</h6>" ));
			// $(e.target).siblings("label").html( $(e.target).siblings("label").text() + "<img src='../img/icons/packs/silk/16x16/error.png'/>" );
			// $(e.target).append("<img src='../img/icons/packs/silk/16x16/error.png'/>");


			if ( parseInt( $("#id_med_doctors").val() ) > 0 ){
				// Lanzar el borde verde junto con la img
					$(e.target).css("border","1px solid green");
					$("#hd_flag_doctor").val(1);
					$("#info_med").css("display","none");
			}else{
				// Lanzar el border amarillo con la img
				$(e.target).css("border","1px solid yellow");
				$("#hd_flag_doctor").val(1);
				// $("#info_med").css("display","");
			}
		});


		$("#doctor_name").bind("change",function(){
			if ( parseInt( $("#id_med_doctors").val() ) > 0 && parseInt( $("#hd_flag_doctor").val() ) == 1){
				$("#id_med_doctors").val("")
				$("#hd_flag_doctor").val("");
				$("#info_med").css("display","");
				$("#clinic_phone").val("");
				$("#doc_email").val("");
				$("#id_med_specialty").val("-");
				$("#doc_address").val("");
			}
		});

		$("#doctor_name").bind("blur",function(e){
			if ( parseInt( $("#id_med_doctors").val() ) > 0 ){
				// Lanzar el borde verde junto con la img
					$(e.target).css("border","1px solid green");
					$("#hd_flag_doctor").val(1);
					$("#info_med").css("display","none");
			}else{
				// Lanzar el border amarillo con la img
				$(e.target).css("border","1px solid yellow");
				$("#hd_flag_doctor").val(1);
				$("#info_med").css("display","");
			}
			if($("#doctor_name").val() <= 0) {
				$("#info_med").css("display","none");
			}
		});

		$("#patient_name,#patient_lastname,#gender,#age").bind("change",function(){
			if ( parseInt( $("#id_pac_medrec").val() ) > 0 ){
				$("#id_pac_medrec").val("")
			}
		});
		
		


		// They change color when referring a patient
		$("#patient_name,#patient_lastname,#gender,#age,#date_of_birth").bind("blur",function(e){
			if ( parseInt( $("#id_pac_medrec").val() ) > 0 ){
				// Lanzar el borde verde junto con la img
					$("#patient_name,#patient_lastname,#date_of_birth,#age,#age_type").css("border","1px solid green");
					$("#date_of_birth").attr("readonly",true);
					$("#new_pac").removeClass("hidden");
					$("#new_pac").text("Paciente Existente");
					if($("#patient_picture").val()){
						$("#uploaded_image").html($("#patient_picture").val());
					}else{
						$("#uploaded_image").html("Para agregar una foto de Perfil edite este paciente desde Modulo \"Registro de Pacientes\"");
					}
					$("#upimgbut").hide();

			}else{
				// Lanzar el border amarillo con la img
				// changes to yellow when a key patient data is modified (unlinks the referenced patient)
				$("#patient_name,#patient_lastname,#date_of_birth,#age,#age_type").css("border","1px solid yellow");
				
				$("#new_pac").removeClass("hidden");
				$("#new_pac").text("Nuevo Paciente");
				$("#patient_picture").val("");
				$("#uploaded_image").empty();
				$("#profilepic").show();
				$("#upimgbut").show();
			}
		});


		// var date = null;
		
		// $("#date_of_birth").bind("click",function(){
		// 	date = $("#date_of_birth").val();
		// 	console.log(date);
			
		// });

		// $("#date_of_birth").bind("blur",function(){
		// var newdate =  $("#date_of_birth").val();
		// console.log(newdate);

		// if(newdate != date){
		// 	if ( parseInt( $("#id_pac_medrec").val() ) > 0 ){
		// 		$("#id_pac_medrec").val("")
		// 	}

		// 		// Lanzar el border amarillo con la img
		// 		$("#patient_name,#patient_lastname,#date_of_birth,#age").css("border","1px solid yellow");
		// 		$("#date_of_birth").attr("readonly",false);
		// 		$("#new_pac").removeClass("hidden");
		// }
		// });



		//code to hide topic selection, disable for demo
	var newsletter = $("#chk_invoice_requiredd");
	// newsletter topics are optional, hide at first
	var inital = newsletter.is(":checked");
	var topics = $("#div_invoice_required")[inital ? "show" : "hide"]("fast");
	//var topicInputs = topics.find("input")[inital ? "addClass" : "removeClass"]("required");

		var json_fields_config = Array;

		//_.each(json_fields_config,function(v,k){
		//
		//	console.info("K:%o <> V: %o",k,v);
		//
		//	//jQuery.validator.addClassRules(k,v);
		//
		//	//$("#"+k).rules("add",v);
		//
		//
		//	//$("#"+k).addClass(k);
		//
		//});

		//console.info(json_fields_config);
	// show when newsletter is checked
	newsletter.click(function(e) {
		topics[this.checked ? "show" : "hide"]("fast");

					_.each(json_fields_config,function(v,k){
						if ($(e.target).is(":checked")){
							//$("#"+k).addClass(k);
							$("#"+k).rules("add",v);

							if(k == "invoice_date"){
								$("#"+k).val("20/07/2025");
							}

						}else{
							$("#"+k).rules("remove");
							$("#"+k).removeClass("error");
							$("#"+k).siblings("div.error").remove();
							$("#"+k).val("");

						}

					});

				//_.each($("input[class*=required]","#div_invoice_required"),function(v){console.info($(v).toggleClass("required") console.info );})

	});

		$("#invoice_payment_account_no").blur(function(){
			$("#validate-form").validate().element( "#invoice_paid_method" );
		});

		 $.timepicker.setDefaults( $.timepicker.regional[""] = { hourText: "Hora" , minuteText: "Minuto" ,amPmText: ["", ""] } );

		$("#invoice_hour,#time_promise,#date_custom_time").timepicker();

		

		if($("input[name*=action]").val() != "update"){

			$("#invoice_date").val( dateFormat( "normalDate" ) );

		}// if

		$("#validate-form").submit(function(e){
			if( isValidDate( "#invoice_date", "dd/mm/yy" ) != true || ( $("#invoice_hour").val() ).length == 0){

				$("#invoice_date").val( dateFormat( "normalDate" ) );
				$("#invoice_hour").val( $("#invoice_hour").timepicker("getTime") );
				console.log("s u b m i t t i n g");
			}// if
			return true;
		});
	function calculateAge() {
    $("input#age").bind("change", function (e) {
        console.info("Fired: %o", zDatepicker);
        var int_age = parseInt($(e.target).val());
        console.log(int_age);
        var currentDate = new Date(); // Fecha actual
        var fecha_nacimiento = new Date(currentDate); // Copia de la fecha actual para manipular

		if(!isNaN(int_age)){
			$(e.target).val("");
			switch ($("#age_type").val()) {
				case "year":
					$(e.target).val(int_age);
					fecha_nacimiento.setFullYear(currentDate.getFullYear() - int_age);
					fecha_nacimiento.setMonth(currentDate.getMonth()); // Mantener el mes y día actuales
					break;

				case "month":
					$(e.target).val(int_age);
					fecha_nacimiento.setMonth(currentDate.getMonth() - int_age);
					// No cambiar el día, así permanece en el mismo día del mes actual
					break;

				case "day":
					$(e.target).val(int_age);
					fecha_nacimiento.setDate(currentDate.getDate() - int_age);
					break;
			}

			// Formatear la fecha resultante en formato DD/MM/YYYY
			var day   = fecha_nacimiento.getDate().toString().padStart(2, "0");
			var month = (fecha_nacimiento.getMonth() + 1).toString().padStart(2, "0");
			var year  = fecha_nacimiento.getFullYear();

			var fecha = day + "/" + month + "/" + year;
		}else{
			var fecha = "0000-00-00";
		}

        // Asignar la fecha formateada al campo
        $("input#date_of_birth").val(fecha);
    });
}
		

    $("#age_type").change(function() {
		$("input#age").trigger("change");
    });


	if (age_enabled) {
	    calculateAge();
	}

	});
	</script>

	<script type="text/javascript" charset="utf-8">
		var infoModal = $("#info_dialog").dialog({
			autoOpen: false,
			modal: true,
			minWidth: 600,
			closeOnEscape: false,
			title: "Información de Producto.",
			buttons: [
				{
					text: "Cerrar",
					class: "",
					click: function(){
						$("#info-form")[0].reset();
						$(".info_details").addClass("hidden");
						infoModal.dialog("close");
					}
				}
			]
		});

		var patientInfoModal = $("#patientInfo_dialog").dialog({
			draggable: false,
			dialogClass: "dialogFixed",
			autoOpen: false,
			modal: true,
			minWidth: 600,
			height: $(window).height(),
			resizable: false,
			position: { my: "center top", at: "center top", of: window },
			closeOnEscape: false,
			title: "Historial del Paciente.",
			buttons: [
				{
					text: "Cerrar",
					class: "",
					click: function(){
						patientInfoModal.dialog("close");
					}
				}
			]
		});

		$("body").delegate("#concept-info", "click", function(e){
			e.preventDefault();
			console.log("click done");
			infoModal.dialog("open");
		});

		$("body").delegate("#patient-info", "click", function(e){
			e.preventDefault();
			console.log("click done");
			$.ajax({
				type: "POST",
				url: "reception/work_order/ajx_get_patient_history",
				dataType: "json",
				data: {"id_pac_medrec":$("#id_pac_medrec").val()},
				beforeSend: function(){
					$("#patientInfo_dialog_div").empty();
					$("#patientInfo_dialog_div").append("<center><h6>Cargando órdenes...</h6></center>");
					patientInfoModal.dialog("open");
				},
				success: function(response){
						$("#patientInfo_dialog_div").empty();
						$("#patientInfo_dialog_div").append("<thead><tr><th>Folio</th><th>Fecha</th><th>Doctor</th><th>Empresa</th><th>Estatus</th><th>Acción</th></tr></thead>");
						$("#patientInfo_dialog_div").append("<tbody id=\"patientInfoTable\"></tbody>");
						
						if(Object.keys(response).length > 0){
							$.each(response,function(id,val){
								$("#patientInfoTable").append("<tr id='order_"+val.id_ope_work_order+"'>");
								$("#patientInfoTable").append("<td>"+ val.folio +"</td>");
								$("#patientInfoTable").append("<td>"+ val.date_work_order +"</td>");
								$("#patientInfoTable").append("<td>"+ (val.doctor_name?val.doctor_name:"-") +"</td>");
								$("#patientInfoTable").append("<td>"+ (val.company_name?val.company_name:"-") +"</td>");
								$("#patientInfoTable").append("<td>"+ val.status +"</td>");
								$("#patientInfoTable").append("<td><div onclick='showdetails(" + val.id_ope_work_order + ");' class='btn-info' style='margin-top:0px !important; margin-left:30px !important;'></div></td>");
								$("#patientInfoTable").append("</tr>");
								$("#patientInfoTable").append("<tr class='order_history_details' id='order_"+val.id_ope_work_order+"_detail'>");
								$("#patientInfoTable").append("</tr>");

							});
						}else{
							$("#patientInfoTable").append("<tr>");
							$("#patientInfoTable").append("<td colspan='6'>El paciente no tiene ningúna orden aún.</td>");
							$("#patientInfoTable").append("<tr>");
						}
				},
				error: function(e){
					$("#patientInfo_dialog_div").empty();
					$("#patientInfo_dialog_div").append("<center><h6>No fue posible obtener el historial del paciente.</h6></center>");
				}
			});
		});

		function showdetails(id){
			$.ajax({
				type: "POST",
				url: "reception/work_order/ajx_get_patient_history_details",
				dataType: "json",
				data: {"id_ope_work_order":id},
				beforeSend: function(){
					$(".order_history_details").empty();
					$("#order_" + id + "_detail").empty();
					var str = "<td style='background:#3c3f4d4d !important;' colspan='6'>Cargando detalles...</td>";
					$("#order_" + id + "_detail").append(str);
				},
				success: function(response){
					$("#order_" + id + "_detail").empty();
					$("#order_" + id + "_detail").append("<td style='background:#3c3f4d4d !important;' colspan='6'><table width='100%' id='order_" + id + "_detail_tbl'></table></td>");
					$("#order_" + id + "_detail_tbl").append("<thead><tr><th>Cant.</th><th>Unidad</th><th>Prod.Cod.</th><th>Descripción</th><th>Precio</th><th>Estatus</th></tr></thead>");
					$("#order_" + id + "_detail_tbl").append("<tbody id='order_" + id + "_detail_tbl_tbody'><tr></tr></tbody>");
					if(Object.keys(response).length > 0){
						$.each(response,function(idx,valx){
							$("#order_" + id + "_detail_tbl_tbody").append("<tr>");
							$("#order_" + id + "_detail_tbl_tbody").append("<td>"+ (valx.qty?valx.qty:"-") +"</td>");
							$("#order_" + id + "_detail_tbl_tbody").append("<td>"+ (valx.unit?valx.unit:"-") +"</td>");
							$("#order_" + id + "_detail_tbl_tbody").append("<td>"+ (valx.product_code?valx.product_code:"-") +"</td>");
							$("#order_" + id + "_detail_tbl_tbody").append("<td>"+ (valx.description?valx.description:"-") +"</td>");
							$("#order_" + id + "_detail_tbl_tbody").append("<td>$"+ (valx.price?valx.price:"-") +"</td>");
							$("#order_" + id + "_detail_tbl_tbody").append("<td>"+ (valx.status?valx.status:"-") +"</td>");
							$("#order_" + id + "_detail_tbl_tbody").append("<tr>");
						})
					}else{
						$("#order_" + id + "_detail_tbl_tbody").append("<tr>");
						$("#order_" + id + "_detail_tbl_tbody").append("<td colspan='6'>La órden no tiene conceptos.</td>");
						$("#order_" + id + "_detail_tbl_tbody").append("<tr>");
					}
				},
				error: function(){
					$("#order_" + id + "_detail").empty();
					var str = "<td style='background:#3c3f4d4d !important;' colspan='6'>No fue posible obtener los detalles.</td>";
					$("#order_" + id + "_detail").append(str);
				}
			});
		}
	</script>
	

			<script type="text/javascript" charset="utf-8">
				$("#estimate13").click(function(e){
					e.preventDefault();
					if($("[name='description[]']").length > 1) {
						var fData = new FormData( $("#validate-form").get(0) );
						console.log(fData);
						ajx_prn_est = $.ajax({
							url: $(this).attr("href"),
							type: "POST",
							data: fData,
							processData: false,
							contentType: false
						});
						ajx_prn_est.done(function(data) {
							var result = JSON.parse(data);
							if(result.status == "error") {
								$.jGrowl(result.result_msg,{ theme: result.status });
							} else {
								// $.jGrowl(result.result_msg,{ theme: result.status });
								var win = window.open("reception/estimate/print/"+result.result+"/1","estimate");
								if (win) {
									//Browser has allowed it to be opened
									win.focus();
								}
							}
							console.log(result);
						});
						// ajx_prn_est.done(function(data){
						// 	var win = window.open("","estimate");
						// 	console.log(data);
						// 	// win.document.write(data);
						// 	// $(win.document.body).append(data);
						// 	win.document.body.innerHTML = data;
						// 	// win.document = data;
						// });
					} else {
						$.jGrowl("Debes agregar al menos un producto.", { theme: "error"});
					}
				});
			</script>
		
<script defer src="../js/mylibs/jquery.simplemodal.1.4.2.min.js"></script> <!-- Simple Modal -->



<script type="text/javascript" charset="utf-8">
	$("#submit_btn, #btn_submit").click(function(e){
	// $("#submit_btn, #btn_submit").closest("form").submit(function(e){
		$("#loading").css("display","");
		$("#loading").dialog("open");
		e.preventDefault();
		button = $(this);
		button.attr("disabled", "disabled");
		button.closest("form").submit();
		setTimeout(function(){
			button.removeAttr("disabled");
			$("#loading").dialog("close");
		},6000);
	});

	$(document).delegate(":input:not(textarea):not([type=submit])","keypress",function(e) {
		return e.keyCode != 13;
	});
</script>

<script type="text/javascript" charset="utf-8"> 
    $(document).ready(function(){
        $("#boton_dbug").click(function(){
            $.post("reception/work_order/listing", {dbug: "True"})
            window.location.replace("auth/login");
	});
	
	$("#loading").dialog({
		resizable: false,
		draggable: true,
		autoOpen: false,
		modal: true,
		height: 60,
		maxWidth: 180,
		closeOnEscape: true,
		title: "Procesando...",
		closeText: "hide",
		dialogClass: "no-close"
	  });

});


</script>

  <script type="text/javascript">
	$().ready(function() {
		"use strict";

		App.init();
        
		var v = $("#create-user-form").validate();
		jQuery("#reset").click(function() { v.resetForm(); $.jGrowl("User was not created!", { theme: 'error' }); });

		var v2 = $("#write-message-form").validate();
		jQuery("#reset2").click(function() { v2.resetForm(); $.jGrowl("Message was not sent.", { theme: 'error' }); });

		var v3 = $("#create-folder-form").validate();
		jQuery("#reset3").click(function() { v3.resetForm(); $.jGrowl("Folder was not created!", { theme: 'error' }); });

		var v4 = $("#create-title-form").validate();


		$("#modal").click(function(e) {
                  $("#"+$(e.target).attr("modal")).modal({
                    opacity:50,
                    overlayCss: {backgroundColor:"#666666"}
                    });
                });


		/*
		 * Charts
		 */
		$('#graph-data').visualize({type: 'line', height: 250}).appendTo('#tab-line').trigger('visualizeRefresh');
		$('#graph-data').visualize({type: 'area', height: 250}).appendTo('#tab-area').trigger('visualizeRefresh');
		$('#graph-data').visualize({type: 'pie', height: 250}).appendTo('#tab-pie').trigger('visualizeRefresh');
		$('#graph-data').visualize({type: 'bar', height: 250}).appendTo('#tab-bar').trigger('visualizeRefresh');

		/*
		 * Tabs
		 */
		$("#specify-a-unique-tab-name").createTabs();
		$("#tab-graph").createTabs();

		/*
		 * Contact List
		 */
		$('#slider').sliderNav();


                //## js_docready functions
                $("#main_cart").modCart({"iva_included":true,"allow_no_id_product":true,"iva_adder_config":1,"anchor_remove_text":"<img src=\"..\/img\/icons\/misc\/remove-icon.png\" width=18 heigth=18 >","iva_rate":"16"});$("#main_payments").modPayments({"enableLoyalty":false,"loyaltyPointValueRate":0.01,"dbug":false,"enableOnChange":true,"enableCardComission":false});
$(document).ready(function(){


	$("#weight").keyup(function(){
		var con_pounds = $("#weight").val() * 2.205;
		$("#pounds").val(parseFloat(con_pounds).toFixed(2));
	});
});

			$( "#patient_name" ).autocomplete({
				source: 

				function(request, response) {

					$.ajax({
						url: "reception/work_order/ajx_autocomplete_patient_name/",
						dataType: "json",
						data: {
							term : request.term,
							term2: $("#patient_lastname").val(),
						},
						success: function(data) {
							response(data);
						}
					});
				}
			,
				minLength: 2,
				select: function( event, ui ) {


					if( ui.item.extras ){

						var fields = ui.item.extras.split('|');
						 $("#id_pac_medrec").val(fields[0]);   $("#patient_lastname").val(fields[1]);   $("#date_of_birth").val(fields[2]);   $("#gender").val(fields[3]);   $("#email").val(fields[4]);   $("#cell_phone").val(fields[5]);   $("#home_phone").val(fields[6]);   $("#id_med_doctors").val(fields[7]);   $("#doctor_name").val(fields[8]);   $("#").val(fields[9]);   $("#").val(fields[10]);   $("#").val(fields[11]);   $("#").val(fields[12]);   $("#").val(fields[13]);   $("#").val(fields[14]);   $("#").val(fields[15]);   $("#").val(fields[16]);   $("#").val(fields[17]);   $("#").val(fields[18]);   $("#l_card").val(fields[19]);   $("#available_points").val(fields[20]);   $("#patient_picture").val(fields[21]);   $("#address").val(fields[22]);   $("#id_api_pac_medrec").val(fields[23]);   $("#").val(fields[24]);   $("#").val(fields[25]);   $("#emr_custom1").val(fields[26]);   $("#emr_custom2").val(fields[27]);   $("#emr_custom3").val(fields[28]);   $("#emr_custom4").val(fields[29]);  
					}

						_.each($("input[name*=gender]"),function(v){ if(parseInt(fields[3]) == parseInt( $(v).val() ) ){ $(v).attr("checked","checked"); }  });
		_.each($("input[name*=esterilizado]"),function(v){ if(parseInt(fields[24]) == parseInt( $(v).val() ) ){ $(v).attr("checked","checked"); }  });
		$("textarea[name=terapeutic_info]").text(fields[9]);
		$("textarea[name=comments]").text(fields[10]);
		$("input#new_edad").val(fields[25]);
		( parseInt( fields[11]) == 1 ) ?  $("#email_send_messages").attr("checked",true): $("#email_send_messages").attr("checked",false);
		( parseInt( fields[12]) == 1 ) ?  $("#email_send_report").attr("checked",true): $("#email_send_report").attr("checked",false);
		( parseInt( fields[13]) == 1 ) ?  $("#cell_phone_send_messages").attr("checked",true): $("#cell_phone_send_messages").attr("checked",false);
		( parseInt( fields[14]) == 1 ) ?  $("#cell_phone_send_report").attr("checked",true): $("#cell_phone_send_report").attr("checked",false);

		$("input#age").val(fields[15]);
		
		$("#doctor_name").focus();
		if($("input:radio[name=gender]:checked").val() == 1) {
			$("#fum").removeClass("hidden");
		} else {
			$("#fum").addClass("hidden");
		}
		

				}
			});
			$( "#date_of_birth" ).autocomplete({
				source: 

				function(request, response) {

					$.ajax({
						url: "reception/work_order/ajx_autocomplete_patient_date_of_birth/",
						dataType: "json",
						data: {
							term : request.term,
							term2: $("#patient_name").val() + "%" +$("#patient_lastname").val(),
						},
						success: function(data) {
							response(data);
						}
					});
				}
			,
				minLength: 2,
				select: function( event, ui ) {


					if( ui.item.extras ){

						var fields = ui.item.extras.split('|');
						 $("#id_pac_medrec").val(fields[0]);   $("#patient_lastname").val(fields[1]);   $("#patient_name").val(fields[2]);   $("#gender").val(fields[3]);   $("#email").val(fields[4]);   $("#cell_phone").val(fields[5]);   $("#home_phone").val(fields[6]);   $("#id_med_doctors").val(fields[7]);   $("#doctor_name").val(fields[8]);   $("#").val(fields[9]);   $("#").val(fields[10]);   $("#").val(fields[11]);   $("#").val(fields[12]);   $("#").val(fields[13]);   $("#").val(fields[14]);   $("#").val(fields[15]);   $("#").val(fields[16]);   $("#").val(fields[17]);   $("#").val(fields[18]);   $("#l_card").val(fields[19]);   $("#available_points").val(fields[20]);   $("#patient_picture").val(fields[21]);   $("#address").val(fields[22]);   $("#id_api_pac_medrec").val(fields[23]);   $("#").val(fields[24]);   $("#").val(fields[25]);  
					}

					  _.each($("input[name*=gender]"),function(v){ if(parseInt(fields[3]) == parseInt( $(v).val() ) ){ $(v).attr("checked","checked"); }  });
	_.each($("input[name*=esterilizado]"),function(v){ if(parseInt(fields[29]) == parseInt( $(v).val() ) ){ $(v).attr("checked","checked"); }  });
	$("textarea[name=terapeutic_info]").text(fields[9]);
	$("textarea[name=comments]").text(fields[10]);
	( parseInt( fields[11]) == 1 ) ?  $("#email_send_messages").attr("checked",true): $("#email_send_messages").attr("checked",false);
	( parseInt( fields[12]) == 1 ) ?  $("#email_send_report").attr("checked",true): $("#email_send_report").attr("checked",false);
	( parseInt( fields[13]) == 1 ) ?  $("#cell_phone_send_messages").attr("checked",true): $("#cell_phone_send_messages").attr("checked",false);
	( parseInt( fields[14]) == 1 ) ?  $("#cell_phone_send_report").attr("checked",true): $("#cell_phone_send_report").attr("checked",false);
	$("input#age").val(fields[15]);

	
	$("input#new_edad").val(fields[30]);

	$("#doctor_name").focus();
	if($("input:radio[name=gender]:checked").val() == 1) {
		$("#fum").removeClass("hidden");
	} else {
		$("#fum").addClass("hidden");
	}
	var date = fields[2].split("/");
	date = date[2] + "-" + date[1] + "-" +date[0];
	// var timestamp = Date.parse(date);

				var today = new Date();
				var dateOfBirth = new Date(date);
				var age = today.getFullYear() - dateOfBirth.getFullYear();
				if(today.getMonth() < dateOfBirth.getMonth()) {
					age--;
				}
				if(today.getMonth() == dateOfBirth.getMonth()) {
					if(today.getDate() < dateOfBirth.getDate()) {
						age--;
					}
				}
				if(age <= 14){
					$("#imc").css("display","none");
					$("#m2scdiv").css("display","");
					$("#signos_m2sc").removeAttr("disabled");
				}else{
						$("#m2scdiv").css("display","none");
						$("#imc").css("display","");
						$("#signos_m2sc").attr("disabled","true");

				}



																			

				}
			});
			$( "#parent_user" ).autocomplete({
				source: 

				function(request, response) {

					$.ajax({
						url: "reception/work_order/ajx_autocomplete_patient_name/",
						dataType: "json",
						data: {
							term : request.term,
							hasCard: true,
						},
						success: function(data) {
							response(data);
						}
					});
				}
			,
				minLength: 2,
				select: function( event, ui ) {


					if( ui.item.extras ){

						var fields = ui.item.extras.split('|');
						 $("#id_pac_parent").val(fields[0]);   $("#").val(fields[1]);   $("#").val(fields[2]);   $("#").val(fields[3]);   $("#").val(fields[4]);   $("#").val(fields[5]);   $("#").val(fields[6]);   $("#").val(fields[7]);   $("#").val(fields[8]);   $("#").val(fields[9]);   $("#").val(fields[10]);   $("#").val(fields[11]);   $("#").val(fields[12]);   $("#").val(fields[13]);   $("#").val(fields[14]);   $("#").val(fields[15]);   $("#").val(fields[16]);   $("#").val(fields[17]);   $("#").val(fields[18]);   $("#loyalty_card").val(fields[19]);  
					}

					$("#loyalty_card").attr("disabled",true);

				}
			});
			$( "#patient_lastname" ).autocomplete({
				source: 

				function(request, response) {

					$.ajax({
						url: "reception/work_order/ajx_autocomplete_patient_lastname/",
						dataType: "json",
						data: {
							term : request.term,
							term2: $("#patient_name").val(),
						},
						success: function(data) {
							response(data);
						}
					});
				}
			,
				minLength: 2,
				select: function( event, ui ) {


					if( ui.item.extras ){

						var fields = ui.item.extras.split('|');
						 $("#id_pac_medrec").val(fields[0]);   $("#patient_name").val(fields[1]);   $("#date_of_birth").val(fields[2]);   $("#gender").val(fields[3]);   $("#email").val(fields[4]);   $("#cell_phone").val(fields[5]);   $("#home_phone").val(fields[6]);   $("#id_med_doctors").val(fields[7]);   $("#doctor_name").val(fields[8]);   $("#").val(fields[9]);   $("#").val(fields[10]);   $("#").val(fields[11]);   $("#").val(fields[12]);   $("#").val(fields[13]);   $("#").val(fields[14]);   $("#").val(fields[15]);   $("#").val(fields[16]);   $("#").val(fields[17]);   $("#").val(fields[18]);   $("#l_card").val(fields[19]);   $("#available_points").val(fields[20]);   $("#patient_picture").val(fields[21]);   $("#address").val(fields[22]);   $("#").val(fields[23]);   $("#").val(fields[24]);  
					}

					  _.each($("input[name*=gender]"),function(v){ if(parseInt(fields[3]) == parseInt( $(v).val() ) ){ $(v).attr("checked","checked"); }  });
	_.each($("input[name*=esterilizado]"),function(v){ if(parseInt(fields[29]) == parseInt( $(v).val() ) ){ $(v).attr("checked","checked"); }  });
																					$("textarea[name=terapeutic_info]").text(fields[9]);
																					$("textarea[name=comments]").text(fields[10]);
																					$("input#new_edad").val(fields[30]);
																					( parseInt( fields[11]) == 1 ) ?  $("#email_send_messages").attr("checked",true): $("#email_send_messages").attr("checked",false);
																					( parseInt( fields[12]) == 1 ) ?  $("#email_send_report").attr("checked",true): $("#email_send_report").attr("checked",false);
																					( parseInt( fields[13]) == 1 ) ?  $("#cell_phone_send_messages").attr("checked",true): $("#cell_phone_send_messages").attr("checked",false);
																					( parseInt( fields[14]) == 1 ) ?  $("#cell_phone_send_report").attr("checked",true): $("#cell_phone_send_report").attr("checked",false);
																					$("input#age").val(fields[15]);
																					
																					$("#doctor_name").focus();
																					if($("input:radio[name=gender]:checked").val() == 1) {
																						$("#fum").removeClass("hidden");
																					} else {
																						$("#fum").addClass("hidden");
																					}
																		
																						
																			

				}
			});
			$( "#doctor_name" ).autocomplete({
				source: "reception/work_order/ajx_autocomplete_doctor_name/",
				minLength: 2,
				select: function( event, ui ) {


					if( ui.item.extras ){

						var fields = ui.item.extras.split('|');
						 $("#id_med_doctors").val(fields[0]);   $("#id_med_specialty").val(fields[1]);   $("#doc_address").val(fields[2]);   $("#clinic_phone").val(fields[3]);   $("#doc_email").val(fields[4]);  
					}

					$("#client_name").focus();

				}
			});
			$( "#client_name" ).autocomplete({
				source: "reception/work_order/ajx_autocomplete_client_name/",
				minLength: 2,
				select: function( event, ui ) {


					if( ui.item.extras ){

						var fields = ui.item.extras.split('|');
						 $("#id_cli_clients").val(fields[0]);   $("#select_fare").val(fields[1]);  
					}

					$("#cell_phone").focus();

				}
			});
			$( "#cart_description" ).autocomplete({
				source: 

				function(request, response) {

					$.ajax({
						url: "reception/work_order/ajx_autocomplete_cart/",
						dataType: "json",
						data: {
							term : request.term,
							id_fare: $("#select_fare").val()
						},
						success: function(data) {
							response(data);
						}
					});
				}
			,
				minLength: 2,
				select: function( event, ui ) {


					if( ui.item.extras ){

						var fields = ui.item.extras.split('|');
						 $("#hd_id_product").val(fields[0]);   $("#hd_unit_cost").val(fields[1]);   $("#hd_id_type").val(fields[2]);   $("#cart_unit").val(fields[3]);   $("#cart_code").val(fields[4]);   $("#iva_rate").val(fields[5]);   $("#cart_price").val(fields[6]);   $("#note_patient").val(fields[7]);   $("#note_medical").val(fields[8]);   $("#delivery_time").val(fields[9]);  
					}

					 console.info("DATA-CART: %o",ui); $("#cart_descount").val("0.00");  var val_cart_qty = $("#cart_qty").val(); $("#cart_qty").val( val_cart_qty || "1" ).trigger("keyup").focus(); if( fields[2] != 0){ $("input:checkbox[name*=iva]",$("#cart_description").parent().siblings()).attr("checked","checked"); }else{ $("input:checkbox[name*=iva]",$("#cart_description").parent().siblings()).removeAttr("checked"); }

				}
			});
			$( "#invoice_name" ).autocomplete({
				source: "reception/work_order/ajx_autocomplete_invoice_name/",
				minLength: 2,
				select: function( event, ui ) {


					if( ui.item.extras ){

						var fields = ui.item.extras.split('|');
						 $("#id_cli_billing").val(fields[0]);   $("#invoice_rfc").val(fields[1]);   $("#invoice_email").val(fields[2]);   $("#invoice_payment_account_no").val(fields[3]);   $("#invoice_phone").val(fields[4]);   $("#invoice_address").val(fields[5]);   $("#invoice_no_exterior").val(fields[6]);   $("#invoice_no_interior").val(fields[7]);   $("#invoice_zipcode").val(fields[8]);   $("#invoice_col").val(fields[9]);   $("#invoice_city").val(fields[10]);   $("#invoice_state").val(fields[11]);   $("#invoice_country").val(fields[12]);  
					}

					$("#date_invoice").datepicker("setDate", new Date()); ( parseInt(fields[13]) == 1 ) ? $("#invoice_send_to_email").attr("checked",true): $("#invoice_send_to_email").attr("checked",false); 

				}
			});
			$( "#invoice_rfc" ).autocomplete({
				source: "reception/work_order/ajx_autocomplete_invoice_rfc/",
				minLength: 2,
				select: function( event, ui ) {


					if( ui.item.extras ){

						var fields = ui.item.extras.split('|');
						 $("#id_cli_billing").val(fields[0]);   $("#invoice_name").val(fields[1]);   $("#invoice_email").val(fields[2]);   $("#invoice_payment_account_no").val(fields[3]);   $("#invoice_phone").val(fields[4]);   $("#invoice_address").val(fields[5]);   $("#invoice_no_exterior").val(fields[6]);   $("#invoice_no_interior").val(fields[7]);   $("#invoice_zipcode").val(fields[8]);   $("#invoice_col").val(fields[9]);   $("#invoice_city").val(fields[10]);   $("#invoice_state").val(fields[11]);   $("#invoice_country").val(fields[12]);  
					}

					$("#date_invoice").datepicker("setDate", new Date()); ( parseInt(fields[13]) == 1 ) ? $("#invoice_send_to_email").attr("checked",true): $("#invoice_send_to_email").attr("checked",false); 

				}
			});
		/*
		 * Datepicker
		 */
		//$( "#date_work_order" ).datepicker({
		$( "#date_work_order" ).datepicker({
				dateFormat: 'dd/mm/yy',
		    maxDate: '+4Y',
		    changeMonth: true,
		    firstDay: 1,
		    changeYear: true,
		    numberOfMonths: 1,
                    
		    dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sa'],
		    monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo',
			'Junio', 'Julio', 'Agosto', 'Septiembre',
			'Octubre', 'Noviembre', 'Diciembre'],
		    monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr',
			'May', 'Jun', 'Jul', 'Ago',
			'Sep', 'Oct', 'Nov', 'Dic'],
			
		});

		/*
		 * Datepicker
		 */
		//$( "#date_custom" ).datepicker({
		$( "#date_custom" ).datepicker({
				dateFormat: 'dd/mm/yy',
		    maxDate: '+4Y',
		    changeMonth: true,
		    firstDay: 1,
		    changeYear: true,
		    numberOfMonths: 1,
                    
		    dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sa'],
		    monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo',
			'Junio', 'Julio', 'Agosto', 'Septiembre',
			'Octubre', 'Noviembre', 'Diciembre'],
		    monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr',
			'May', 'Jun', 'Jul', 'Ago',
			'Sep', 'Oct', 'Nov', 'Dic'],
			
		});

		/*
		 * Datepicker
		 */
		//$( "#invoice_date" ).datepicker({
		$( "#invoice_date" ).datepicker({
				dateFormat: 'dd/mm/yy',
		    maxDate: '+4Y',
		    changeMonth: true,
		    firstDay: 1,
		    changeYear: true,
		    numberOfMonths: 1,
                    
		    dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sa'],
		    monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo',
			'Junio', 'Julio', 'Agosto', 'Septiembre',
			'Octubre', 'Noviembre', 'Diciembre'],
		    monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr',
			'May', 'Jun', 'Jul', 'Ago',
			'Sep', 'Oct', 'Nov', 'Dic'],
			
		});

		/*
		 * Datepicker
		 */
		//$( "#pernopat_fum" ).datepicker({
		$( "#pernopat_fum" ).datepicker({
				dateFormat: 'dd/mm/yy',
		    maxDate: '+4Y',
		    changeMonth: true,
		    firstDay: 1,
		    changeYear: true,
		    numberOfMonths: 1,
                    
		    dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sa'],
		    monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo',
			'Junio', 'Julio', 'Agosto', 'Septiembre',
			'Octubre', 'Noviembre', 'Diciembre'],
		    monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr',
			'May', 'Jun', 'Jul', 'Ago',
			'Sep', 'Oct', 'Nov', 'Dic'],
			
		});

			$( "#product_description" ).autocomplete({
				source: 

				function(request, response) {

					$.ajax({
						url: "reception/work_order/ajx_autocomplete_prod_info/",
						dataType: "json",
						data: {
							term : request.term,
							columns: "product_comment,unit_price,note_patient,note_medical,delivery_time,st.sample_name AS sample_name"
						},
						success: function(data) {
							response(data);
						}
					});
				}
			,
				minLength: 2,
				select: function( event, ui ) {


					if( ui.item.extras ){

						var fields = ui.item.extras.split('|');
						 $("#product_comment").val(fields[0]);   $("#unit_price").val(fields[1]);   $("#note_patient_info").val(fields[2]);   $("#note_medical_info").val(fields[3]);   $("#delivery_time_info").val(fields[4]);   $("#sample_name_info").val(fields[5]);  
					}

					$(".info_details").removeClass("hidden");

				}
			});
	});
  </script>
  <!-- end scripts-->

  <!-- Prompt IE 6 users to install Chrome Frame. Remove this if you want to support IE 6.
       chromium.org/developers/how-tos/chrome-frame-getting-started -->
  <!--[if lt IE 7 ]>
    <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
    <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
  <![endif]-->

</body>
</html>
